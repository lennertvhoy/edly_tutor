<!DOCTYPE html>
<html lang="nl"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta property="og:type" content="website">
	<meta property="og:site_name" content="it1education">
			<meta property="og:title" content="it1education">
		<meta property="og:image" content="https://d3j0t7vrtr92dk.cloudfront.net/it1education/1605801922_LMS_IT1_25y%20%282%29.png">
		<meta property="og:description" content="TalentLMS - Cloud based, Lean Learning Platform with an Emphasis on Usability and Easy Course Creation">
		<!-- base href="https://it1education.talentlms.com/" -->
	<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0">
	<meta http-equiv="Content-Language" content="nl">
	<meta charset="utf-8">
	<meta name="keywords" content="lms, elearning, learning platform, cloud, saas">
	<meta name="description" content="TalentLMS - Cloud based, Lean Learning Platform with an Emphasis on Usability and Easy Course Creation">
			<title>it1education | LAB - DHCP Link... (ServAdv Labs SV Lab1) | VM aanmaken</title>
	<link href="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/animate.min.css" rel="stylesheet" type="text/css">
						<link href="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/fmt_1721818052,tn_53,tv_69,ct_1,rtl_0.css" rel="stylesheet" type="text/css">
											<link href="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/wysiwyg-fonts.css" rel="stylesheet" type="text/css">
			<link href="https://d3j0t7vrtr92dk.cloudfront.net/it1education/1596033447_suru-qfor.png" rel="shortcut icon">
			<link rel="prefetch" href="https://it1education.talentlms.com/unit/view/id:9141,prefetch:1">
		<link rel="prerender" href="https://it1education.talentlms.com/unit/view/id:9141,prefetch:1">
					<script src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/main-560.min.js" type="text/javascript"></script>
																									<link href="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/toastr.min.css" rel="stylesheet" type="text/css">
		</head>
<body class="tl-body">
	<div class="navbar">
		<div class="navbar-inner">
			<div class="container-fluid nav-container">
				<a class="btn btn-navbar hamburger hamburger--slider hamburger--small hamburger--collapse" data-toggle="collapse" data-target=".nav-collapse">
					<span class="hamburger-box">
						<span class="hamburger-inner"></span>
					</span>
				</a>
				<div class="hidden-phone hidden-tablet pull-left">
															<div class="tl-ellipsis"><a class="brand title  headerCourseName" id="tl-navbar-course-name" title="Terug naar cursusinformatie" href="https://it1education.talentlms.com/learner/courseinfo/id:547"><span title="Terug naar cursusinformatie" class="tl-formatted-course-name">LAB - DHCP Link Layer Fil...</span></a></div>
										
								</div>

				<div class="tl-ellipsis hidden-desktop">
															<div class="tl-ellipsis"><a class="brand title headerCourseName" id="tl-navbar-course-name" title="Terug naar cursusinformatie" href="https://it1education.talentlms.com/learner/courseinfo/id:547"><span title="Terug naar cursusinformatie" class="tl-formatted-course-name">LAB - DHCP Link... <span class="tl-formatted-course-code">(ServAdv Labs SV Lab1)</span></span></a></div>
													</div>

				<div id="tl-loading-pane" class="hide affix text-center"><p><img src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/loading-small.gif" class="tl-loader-small"></p></div>
				<div class="nav-collapse collapse">
					<ul class="nav pull-right" id="tl-pull-right-nav">
											<li><a id="tl-backto-trainer" class="btn btn-success" onclick="myportal.app.ajax('https://it1education.talentlms.com/user/setrole/role:trainer',{success: function(){window.location = 'https://it1education.talentlms.com/trainer/course/id:547'}})">
							Bekijk als Docent</a></li>
																<li><a id="tl-header-gamification-entrance" class="btn btn-success" href="javascript:void(0);" data-entrancevalue="70373" data-entrancemode="points">70373 punten</a></li>
					 						 					<li class="headerUnits"><a title="Vorige" href="https://it1education.talentlms.com/unit/view/id:15788" style="padding-bottom: 11px;"><i class="icon-chevron-left" style="font-size: 24px; line-height: 14px; margin-top: 4px;"></i></a></li>
 						        			<li class="dropdown headerUnits" id="tl-dropdown-progress">
							<a href="#" class="dropdown-toggle scrolling-dropdown" data-toggle="dropdown">
											    		<span title="VM aanmaken">VM aanmaken</span>				    			<b class="caret"></b>
				    		</a>
							<ul class="dropdown-menu" style="overflow-y: auto; overflow-x: hidden; max-height: 500px;" id="tl-navbar-progress">
															<li class="nav-header" style="margin-top: 4px;">
									<div class="progress progress-success" style="margin-bottom: 0px;">
																			<div class="bar" id="tl-navbar-progress-measure" style="width: 100%;">Voltooid</div>
																		</div>
								</li>
								<li class="divider"></li>
														<li><a id="tl-navbar-unit-link-15786" style="" href="https://it1education.talentlms.com/unit/view/id:15786"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="DHCP installeren">DHCP installeren</span></a></li><li><a id="tl-navbar-unit-link-15787" style="" href="https://it1education.talentlms.com/unit/view/id:15787"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="Configuratie DHCP scope">Configuratie DHCP scope</span></a></li><li><a id="tl-navbar-unit-link-15788" style="" href="https://it1education.talentlms.com/unit/view/id:15788"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="DHCP-service testen">DHCP-service testen</span></a></li><li><a id="tl-navbar-unit-link-9140" style="font-weight: 600;" href="https://it1education.talentlms.com/unit/view/id:9140"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="VM aanmaken">VM aanmaken</span></a></li><li><a id="tl-navbar-unit-link-9141" style="" href="https://it1education.talentlms.com/unit/view/id:9141"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="Link Layer Filtering configureren">Link Layer Filtering configureren</span></a></li><li><a id="tl-navbar-unit-link-9142" style="" href="https://it1education.talentlms.com/unit/view/id:9142"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="Configuratie controleren">Configuratie controleren</span></a></li><li><a id="tl-navbar-unit-link-9143" style="" href="https://it1education.talentlms.com/unit/view/id:9143"><i class="icon-ok tl-green-ok"></i>&nbsp;<span title="Hold on">Hold on</span></a></li>														</ul>
						</li>
																	<li class="headerUnits"><a title="Volgende" href="https://it1education.talentlms.com/unit/view/id:9141" id="tl-navbar-next-unit" style="padding-bottom: 11px;"><i class="icon-chevron-right" style="font-size: 24px; line-height: 14px; margin-top: 4px;"></i></a></li>
																        														<li class="divider-vertical headerMoreOptions"></li>
						<li class="dropdown headerMoreOptions hidden-phone" id="tl-dropdown-more">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown">Meer&nbsp;<b class="caret"></b></a>
							<ul class="dropdown-menu">
								<li><a href="javascript:void(0)" class="tl-course-info" data-url="https://it1education.talentlms.com/course/info/course_id:547">Cursusinformatie</a></li>
																<li><a href="https://it1education.talentlms.com/dashboard/index">Terug naar cursussen</a></li>
																																								<li class="divider"></li>
								<li><a id="navbar-logout" href="https://it1education.talentlms.com/index/logout/token:6949">Afmelden</a></li>
							</ul>
						</li>
											<li class="divider-vertical headerCertificationIcon"></li>
						<li class="headerCertificationIcon"><a title="Cursus afgerond!" href="javascript:void(0)" onclick="$('#tl-course-completed-modal').modal()" style="padding-bottom: 10px;"><i class="icon-trophy" style="font-size: 24px; line-height: 14px; margin-top: 5px;"></i></a></li>
										</ul>
				</div>
			</div>
		</div>
	</div>

	<div class="modal fade hide" id="tl-course-info-modal" style="outline: none;" tabindex="-1">
		<div class="modal-header">
			<a href="javascript:void(0)" class="close" data-dismiss="modal">×</a>
			<h3>Cursusinformatie</h3>
		</div>
		<div class="modal-body">
			<div class="span1 pull-left padded">
				<img id="tl-course-info-modal-avatar" src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/unknown_big.png">
			</div>
			<h3 id="tl-course-info-modal-name"></h3>
			 <h3 id="tl-course-info-modal-name"></h3>
	        	        <p id="tl-course-rating" style="padding-left: 100px;" data-rating-max="5" data-rating-step="1"></p>
	        			<div id="tl-course-info-modal-description" class="tl-course-description"></div>
			<p id="tl-course-info-modal-fields" class="tl-course-fields"></p>
			<div id="tl-course-info-modal-description-tmp"></div>
			<div style="clear: both;">
				<fieldset>
					<legend>Inhoud</legend>
					<div id="tl-course-info-modal-no-units" class="alert alert-info">
						<h4 class="alert-heading">Lege cursus</h4>
						Er zijn geen onderdelen op dit moment					</div>
					<ul class="tl-unit-list" id="tl-course-info-modal-unit-list"></ul>
				</fieldset>
			</div>
			<div style="clear: both;" id="tl-course-info-modal-rules">
				<fieldset>
					<legend>Voltooiingsregels</legend>
					<ul class="tl-unit-list" id="tl-course-info-modal-rules-list"></ul>
				</fieldset>
			</div>
			<div style="clear: both;" id="tl-course-info-modal-prerequisites">
				<fieldset>
					<legend>Vereisten</legend>
					<ul class="tl-unit-list tl-course-info-prerequisites-list" id="tl-course-info-modal-prerequisites-list"></ul>
				</fieldset>
			</div>
	    </div>
	    <div class="modal-footer">
	        <a data-dismiss="modal" class="btn">Sluiten</a>
	    </div>
	</div>

	
<script type="text/javascript">
	var isLoggingOut = false;

	$(document).ready(function(){
		$("#navbar-logout").on('click', function(){
			isLoggingOut = true;
		});

		if($('.btn-navbar').is(':visible')){	// responsive
			var pullRightWidth = $('.btn-navbar').width();
		}
		else{
			var pullRightWidth = $('#tl-pull-right-nav').width();
		}

		if(pullRightWidth < 300){
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link Layer Filtering</span>";
		}
		else if(pullRightWidth < 400){
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link Layer Filtering</span>";
		}
		else if(pullRightWidth < 500){
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link Layer Filtering</span>";
		}
		else if(pullRightWidth < 600){
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link Layer Filtering</span>";
		}
		else if(pullRightWidth < 700){
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link Layer Fil...</span>";
		}
		else{
			var formattedCourseName = "<span title='LAB - DHCP Link Layer Filtering' class='tl-formatted-course-name'>LAB - DHCP Link...</span>";
		}

		$('#tl-navbar-course-name').html(formattedCourseName);
					$('#tl-navbar-course-name .tl-formatted-course-name').prop('title', 'Terug naar cursusinformatie');
		
										
		
		
				// Auto open header menus
		$('#tl-dropdown-progress, #tl-dropdown-more, #tl-dropdown-add, #tl-dropdown-files').mouseenter(function(e) {
			if (!$(this).hasClass('open') && $(window).width() >= 980){
				$(this).addClass("open autoopened");
			}
		});
		$('#tl-dropdown-progress, #tl-dropdown-more, #tl-dropdown-add, #tl-dropdown-files').mouseleave(function() {
			if ($(this).hasClass('open') && $(this).hasClass('autoopened')){
				$(this).removeClass("open autoopened");
			}
		});
	});
</script>

<div class="container ">
						
	
	
	<div class="row">
				<div class="span12">			

<div class="tl-unit-content ">
	<div style="display: none;" id="last-unit-progress"></div>
	<div style="display: none;" id="assignment-reply-type"></div>
	<div class="hide" id="assignment-modify-answer-time"></div>
	<div class="tl-unit-content ">
		<center><div class="readability"><div style="text-align: center;"></div>
<div style="text-align: center;"><img src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/1635137498_practice.png" style="width: 1080px;"></div>
<div style="text-align: center;">
<div style="text-align: left;">
<h2 style="font-family: Georgia; color: rgb(17, 17, 17);"></h2>
<h2 style="font-family: Georgia; color: rgb(17, 17, 17);"><span style="color: rgb(231, 148, 57); font-style: italic; text-decoration-line: underline;">VM aanmaken</span></h2>
<h5 style="font-family: Georgia; color: rgb(17, 17, 17); text-align: right;"><span style="color: rgb(99, 99, 99);">In deze deelopdracht installeren en configureren we de virtuele
machine CL-W10-03.</span></h5>
<h5 style="font-family: Georgia; color: rgb(17, 17, 17); text-align: right;"><span style="color: rgb(99, 99, 99);"><br></span></h5>
<p style="text-align: left; font-family: Georgia; color: rgb(17, 17, 17);"><span style="color: rgb(99, 99, 99);"><br></span></p>
<div>
<h2 style="font-family: Georgia; color: rgb(17, 17, 17);"></h2>
</div>
<ul>
<li>Maak een nieuwe virtuele machine aan met de volgende configuratie:<br></li>
<ul>
<li>Name: CL-W10-03</li>
<li>Memory: 2048MB</li>
<li>CPU: 2 vCPU</li>
<li>VHD: CL-W10-03.vhdx</li>
<li>Network: TRAINING_NETWORK</li>
</ul>
<li>Schakel de lokale Administrator-account in met het wachtwoord "Azerty01"</li>
<li>Log in met de Administrator-account op de computer CL-W10-03</li>
<li>Verander de computernaam naar “CL<span style="font-family: Georgia;">-W10-03</span>” en maak de computer lid van het domein "AD.Training.com"</li>
</ul>
</div>
<div style="text-align: left;">
<p><br></p>
</div>
<p style="font-family: Georgia;"><img src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/1635059377_suru-qfor.png" style="width: 139.081px; height: 163.625px; float: right;"></p>
</div>
<div>
<p style="text-align: left;"></p>
<p style="text-align: left;"><br></p>
<h3 style="font-family: Georgia; color: rgb(17, 17, 17);"><span style="font-family: Georgia; font-size: 17px; font-style: italic;">Is alles gelukt?</span></h3>
<h2 style="font-family: Georgia; color: rgb(17, 17, 17);"></h2>
<p style="font-family: Georgia;"></p>
<p style="font-family: Georgia;"><span style="font-family: Georgia;">Ga dan verder naar het volgende onderdeel.</span></p>
</div></div></center>			</div>
	<div class="clear"></div>
		<div id="tl-complete-unit-handles-area" class="text-center  ">
		<hr class="tl-hr-content">
				<div class="tl-completed-unit-handles" style="">
			<div class="btn-group dropup" style="display: inline-block;">
							<a href="javascript:void(0)" class="btn btn-large tl-passed-continue-unit-button" onclick="location='https://it1education.talentlms.com/unit/view/id:9141'">Afgerond. Laten we verder gaan.</a>
			
						</div>
								</div>
		
				<div class="tl-pending-unit-handles" style="display:none">
			<a href="javascript:void(0)" class="btn btn-large tl-pending-button-assignment disabled">In afwachting van reactie van docent </a>
			<div class="help-inline tl-assignment-more-options-pending">
				<div class="tl-assignment-handles-inner">
					<div class="tl-assignment-icon tl-assignment-check-answer">
						<div class="tl-icon-stack">
							<i class="icon-circle tl-icon-stack-background"></i>
							<i class="icon-comment tl-icon-stack-content"></i>
						</div>
						<br class="clear">
						<div class="tl-icon-label">uw antwoord</div>
					</div>
					<div class="tl-assignment-icon tl-assignment-modify-answer">
						<div class="tl-icon-stack">
							<i class="icon-circle tl-icon-stack-background"></i>
							<i class="icon-edit tl-icon-stack-content"></i>
						</div>
						<br class="clear">
						<div class="tl-icon-label">Wijzig jouw antwoord </div>
					</div>
				</div>
			</div>
		</div>
				
				
				
		<div class="tl-incomplete-unit-handles" style="display:none">
											<a href="javascript:void(0)" class="btn btn-large tl-complete-button tl-completed-continue-button" data-toggle="https://it1education.talentlms.com/unit/complete/id:9140">Voltooien en doorgaan</a>
									
		</div>
	</div>
		
	</div>

<div class="modal fade" id="tl-course-completed-modal" style="display: none; outline: none;" tabindex="-1">
    <div class="modal-body text-center">
     	<a href="javascript:void(0)" class="close pull-right" data-dismiss="modal">×</a>
		<h1>Gefeliciteerd!</h1>
		<img alt="Cursus afgerond!" src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/course_completed.jpg">
		<h2>Cursus afgerond!</h2>
    	<h3><span title="LAB - DHCP Link Layer Filtering (ServAdv Labs SV Lab1)" class="tl-formatted-course-name">LAB - DHCP Link... <span class="tl-formatted-course-code">(ServAdv Labs SV Lab1)</span></span></h3>
           		<div id="tl-course-completed-modal-options" class="text-center">
        	        	<p><a class="btn btn-primary tl-download-certificate" href="https://it1education.talentlms.com/user/downloadcertification/id:###id###" style="display: none;">Download certificaat</a></p>
        	<p><a href="javascript:void(0)" class="btn btn-primary tl-share-certificate" onclick="tl_toggleShare(this)" data-url="https://it1education.talentlms.com/reports/shareCertification/id:###id###" style="display: none;">Deel certificaat</a></p><div class="hide" id="tl-view-share-certificate"><div id="tl-view-share-certificate-body"></div></div>        							<p><a class="tl-courses-list" href="https://it1education.talentlms.com/dashboard/index">Ga naar de cursuslijst</a></p>
			        	        	<p><a class="tl-next-course" href="https://it1education.talentlms.com/learner/courseinfo/id:###id###" style="display:none">Naar volgende cursus</a></p>
        	        	</div>
        </div>
</div>

<div class="modal fade hide" id="tl-course-failed-modal" style="outline: none;" tabindex="-1">
    <div class="modal-body text-center">
        <a href="javascript:void(0)" class="close pull-right" data-dismiss="modal">×</a>
		<h1>Je hebt het niet gehaald</h1>
		<img alt="Je hebt het niet gehaald" src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/course_failed.png">
		<h2>Helaas heb je geen geslaagde score behaald voor deze cursus</h2>
	       <div id="tl-course-failed-modal-options" class="text-center">
								<p><a class="tl-courses-list" href="https://it1education.talentlms.com/dashboard/index">Ga naar de cursuslijst</a></p>
			        </div>
	    </div>
</div>



<script>
	var tl_timer_id = false;
	var isCompleted = false;
	var unitEndDate;


$(document).ready(function(){
	
	if($('#tl-gamification-points-message').length){
		$('#tl-gamification-points-message').css('z-index','10000');
	}

	if($('#tl-gamification-badges-message').length){
		$('#tl-gamification-badges-message').css('z-index','10000');
	}
	
	if ($('#documents-images-zip_namespace').length) {
		$('#documents-images-zip_namespace').fileupload({
			autoUpload: true,
			disableInputButton: false,
			replaceFileInput: true,
			acceptFileTypes: /(\.|\/)(gif|jpg|jpeg|png|ppt|pptx|doc|docx|xls|xlsx|pdf|zip|mp4|webm|ogg|ogv|avi|mpeg|mpg|mov|wmv|3gp|flv|mp3|aac|ogg|oga|wav|mpeg|webm|wma|aif|aiff)$/i,
			maxFileSize: 209715200,
			maxFileSizeArray: uploader_limits,
			add: function(e, data){
					$('.tl-assignment-showuploader').click(); // Show file form.
					var that = this;
					var $this = $(this);
					var validation = data.process(function () {
						return $this.fileupload('process', data);
					});
					validation.done(function() {
						$.blueimp.fileupload.prototype.options.add.call(that, e, data);
					});
					validation.fail(function(data) {
						$('#documents-images-zip_namespace .note.error').html("<i class='icon-attention-circled tl-cursor-default'></i> "+data.files[data.index].error);
					});
				},
			done: function(e, data){
				resp = $.parseJSON(data.jqXHR.responseText);
				setTimeout(function(){data.context.remove()}, 200); // remove completed file's table row
				
				if (resp.success) {
					 if(resp.data.assignmentReplyFile !== undefined){
						 completeAssignmentUnit(null, resp.data.assignmentReplyFile);
					 }
					 else {
						 $('#documents-images-zip_namespace .note.error').html("<i class='icon-attention-circled tl-cursor-default'></i> "+resp.data.error);
					 }
				}
				else {
					 $('#documents-images-zip_namespace .note.error').html("<i class='icon-attention-circled tl-cursor-default'></i> "+resp.data.error);
				 }
			}
		});
		$('#documents-images-zip_namespace').bind('fileuploadadd', function (e) {$('#documents-images-zip_namespace tr.template-upload, #documents-images-zip_namespace tr.template-download').remove();});
		$('#documents-images-zip_namespace').bind('fileuploadstart', function(e){ myportal.app.isUploading = true; });
		$('#documents-images-zip_namespace').bind('fileuploadstop', function(e){ myportal.app.isUploading = false; });
	}
	
	
	$('#send-message-instructor-failing').on('click', function(){
		$('#tl-course-failed-modal').modal('hide');
		$('#tl-send-message-modal').modal();
	});

	if ($('.tl-assignment-reply-editor').length) {
		$('.tl-assignment-reply-editor').summernote({
			airMode: true,
			airPopover: [
				['text', ['bold', 'italic', 'underline']],
				['insert', ['link', 'picture']]
			],
			disableDragAndDrop: true,
			onImageUpload: function(files) {
				return false;
			}
		});
	}

    $(document).on('blur', '.note-editable', function(){
		$('.note-air-popover').hide();
	});

	var gamificationPointsForUnitCompletion = $.cookie("gamification_points_for_unit_completion");
	var gamificationPointsForCourseCompletion = $.cookie("gamification_points_for_course_completion");
	var gamificationPointsForCertification = $.cookie("gamification_points_for_certification");
	var gamificationPointsNotification = '';
	var gamificationAddedPoints = 0;

	if(gamificationPointsForUnitCompletion){
		var parts = gamificationPointsForUnitCompletion.split('###');
		gamificationPointsNotification = parts[0];
		gamificationAddedPoints = parseInt(parts[1]);
		setTlmsCookie("gamification_points_for_unit_completion", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

	if(gamificationPointsForCourseCompletion){
		var parts = gamificationPointsForCourseCompletion.split('###');
		gamificationPointsNotification = (gamificationPointsNotification) ? gamificationPointsNotification + '<br/>' + parts[0] : parts[0];
		gamificationAddedPoints = gamificationAddedPoints + parseInt(parts[1]);
		setTlmsCookie("gamification_points_for_course_completion", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

	if(gamificationPointsForCertification){
		var parts = gamificationPointsForCertification.split('###');
		gamificationPointsNotification = (gamificationPointsNotification) ? gamificationPointsNotification + '<br/>' + parts[0] : parts[0];
		gamificationAddedPoints = gamificationAddedPoints + parseInt(parts[1]);
		setTlmsCookie("gamification_points_for_certification", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

	if(gamificationPointsNotification){
		if($("#tl-header-gamification-entrance").data('entrancemode') == 'points'){
			$("#tl-header-gamification-entrance").empty();
			var pointsCountUp = new countUp("tl-header-gamification-entrance", parseInt($("#tl-header-gamification-entrance").data('entrancevalue')) - parseInt(gamificationAddedPoints), parseInt($("#tl-header-gamification-entrance").data('entrancevalue')), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "punten"});
			pointsCountUp.start();
		}
		
		$("#tl-gamification-points-message").html(decodeURIComponent(gamificationPointsNotification)).fadeIn(1000);
		setTimeout(function(){$("#tl-gamification-points-message").fadeOut('slow');}, 3000);
	}

	var gamificationAssignmentBadge = $.cookie("gamification_assignment_badge");
	var gamificationLearningBadge = $.cookie("gamification_learning_badge");
	var gamificationCertificationBadge = $.cookie("gamification_certification_badge");

	if(gamificationAssignmentBadge){
		var parts = gamificationAssignmentBadge.split('###');
		$(".tl-badge-image").attr('src', parts[1]);
		$(".tl-badge-message").html(decodeURIComponent(parts[0]));
		setTlmsCookie("gamification_assignment_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

	if(gamificationLearningBadge){
		var parts = gamificationLearningBadge.split('###');
		setTlmsCookie("gamification_learning_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});

		if($(".tl-badge-image").attr('src') != '' && $(".tl-badge-message").html() != ''){
			$("#tl-gamification-badges-message").append('<hr/><div id="learning-badge-message" class="tl-badge-image-message-wrapper"></div>');
			$("#learning-badge-message").append('<img class="tl-badge-image pull-left image60x60" src="' + parts[1] + '"/>').append('<div class="tl-badge-message text-center tl-bold-item">' + decodeURIComponent(parts[0]) + '</div>');
		}
		else{
			$(".tl-badge-image").attr('src', parts[1]);
			$(".tl-badge-message").html(decodeURIComponent(parts[0]));
		}
	}

	if(gamificationCertificationBadge){
		var parts = gamificationCertificationBadge.split('###');
		setTlmsCookie("gamification_certification_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});

		if($(".tl-badge-image").attr('src') != '' && $(".tl-badge-message").html() != ''){
			$("#tl-gamification-badges-message").append('<hr/><div id="certification-badge-message" class="tl-badge-image-message-wrapper"></div>');
			$("#certification-badge-message").append('<img class="tl-badge-image pull-left image60x60" src="' + parts[1] + '"/>').append('<div class="tl-badge-message text-center tl-bold-item">' + decodeURIComponent(parts[0]) + '</div>');
		}
		else{
			$(".tl-badge-image").attr('src', parts[1]);
			$(".tl-badge-message").html(decodeURIComponent(parts[0]));
		}
	}

	if(gamificationAssignmentBadge || gamificationLearningBadge || gamificationCertificationBadge){
		if(gamificationPointsNotification){
			$("#tl-gamification-badges-message").css('bottom', $("#tl-gamification-points-message").height() + 20 + 16 + 5);
		}

		if($("#tl-header-gamification-entrance").data('entrancemode') == 'badges'){
			$("#tl-header-gamification-entrance").empty();
			var badgesCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt($("#tl-header-gamification-entrance").data('entrancevalue')), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "badges"});
			badgesCountUp.start();
		}

		$("#tl-gamification-badges-message").fadeIn(1000).css('display', 'table');
		setTimeout(function(){$("#tl-gamification-badges-message").fadeOut('slow');}, 5000);
	}

	var gamificationCompletedCourses = $.cookie("gamification_completed_courses");

	if(gamificationCompletedCourses && $("#tl-header-gamification-entrance").data('entrancemode') == 'courses'){
		$("#tl-header-gamification-entrance").empty();
		var completedCoursesCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt($("#tl-header-gamification-entrance").data('entrancevalue')), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "voltooide cursussen"});
		completedCoursesCountUp.start();
		setTlmsCookie("gamification_completed_courses", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

	var gamificationUserLevel = $.cookie("gamification_user_level");

	if(gamificationUserLevel && $("#tl-header-gamification-entrance").data('entrancemode') == 'levels'){
		var gamificationUserLevelParts = gamificationUserLevel.split('###');
		$("#tl-header-gamification-entrance").empty();
		var userLevelCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt(gamificationUserLevelParts[0]), 0, 1.5, {useEasing: true, useGrouping: true, separator: ''});
		userLevelCountUp.start(function(){$('#tl-header-gamification-entrance').html(decodeURIComponent(gamificationUserLevelParts[1]));});
		setTlmsCookie("gamification_user_level", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
	}

		
	$('#documents-images-zip_namespace .inputbtn').addClass('btn btn-large').data('placement', 'right');
	
	$("a[rel=popover]").popover({placement: 'bottom'}).click(function(e){
		if($(this).hasClass('tl-content-show-popover')){
			e.preventDefault();
		}
	});

	$(document).on('click', '.tl-assignment-select-method', function(){
		$("#tl-recording-area").hide();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().reset();
		}
		$("#tl-recording-audio-area").hide();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}
		$('#documents-images-zip_namespace').hide();
		$('#assignment-reply-textbox-group').hide();
		$('.tl-assignment-handles').hide();
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
		$('.tl-assignment-handles').show();
		$(this).parent().hide();
	});

    $(document).on('click', '.tl-assignment-usetextbox', function(){
		$("#tl-recording-area").hide();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().reset();
		}
		$("#tl-recording-audio-area").hide();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}
		$('#documents-images-zip_namespace').hide();
		$('#assignment-reply-textbox-group').show();
		$('#assignment-reply-textbox-group').removeClass('hidden-textbox').addClass('visible-textbox');
		$('.tl-complete-button-assignment').show();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
		$('.tl-assignment-select-method').parent().show();
		$('.tl-assignment-handles').hide();
		setTimeout(function(){ $("#assignment-reply-textbox").focus(); }, 100);
	});

    $(document).on('click', '.tl-assignment-showuploader', function(){
		$("#tl-recording-area").hide();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().reset();
		}
		$("#tl-recording-audio-area").hide();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}
		$('#documents-images-zip_namespace').show();
		$('#assignment-reply-textbox-group').hide();
		$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
		$('#documents-images-zip_namespace').show();
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
		$('.tl-assignment-select-method').parent().show();
		$('.tl-assignment-handles').hide();
	});

	$(document).on('click', '.tl-assignment-showrecorder', function(){
		$("#tl-recording-audio-area").hide();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}
		$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
		$('#documents-images-zip_namespace').hide();
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').show();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
		$('.tl-assignment-select-method').parent().show();
		$('.tl-assignment-handles').hide();
		$("#tl-recording-area").show();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().getDevice();
		}
	});

	$(document).on('click', '.tl-assignment-showrecorder-audio', function(){
		$("#tl-recording-area").hide();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}

		setTimeout(function(){
			// unlike the video recorder, we initialize the audio recorder after it is visible to the user, otherwise the sound waves do not show up
			initAudioRecordingPlayer();
		}, 100);
		$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
		$('#documents-images-zip_namespace').hide();
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').show();
		$('.tl-assignment-select-method').parent().show();
		$('.tl-assignment-handles').hide();
		$("#tl-recording-audio-area").show();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().getDevice();
		}
	});

	$(document).on('click', '.tl-assignment-showrecorder-screen', function() {
		$("#tl-recording-area").hide();

		if (videoRecordingPlayer) {
			videoRecordingPlayer.record().reset();
		}

		$("#tl-recording-audio-area").hide();

		if (audioRecordingPlayer) {
			audioRecordingPlayer.record().reset();
		}

		$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
		$('#documents-images-zip_namespace').hide();
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').show();
		$('.tl-assignment-select-method').parent().show();
		$('.tl-assignment-handles').hide();
		$("#tl-recording-screen-area").show();

		if (screenRecordingPlayer) {
			screenRecordingPlayer.record().getDevice();
		}
	});

    $(document).on('click', '.tl-assignment-modify-answer', function(){
		var replyType = $('#assignment-reply-type').text();
		$('#assignment-modify-answer-time').text(Math.floor(new Date().getTime()/1000));

		$('.tl-assignment-handles').show();
		$('.tl-pending-unit-handles').hide();
		$('.tl-incomplete-unit-handles').show();
		$('#documents-images-zip_namespace').hide();
		$('.tl-assignment-more-options-complete .tl-assignment-select-method').removeClass('tl-assignment-select-method').addClass('tl-assignment-cancel-modify').parent().show();
	});

    $(document).on('click', '.tl-assignment-cancel-modify', function(){
		$('.tl-assignment-handles').hide();
		$('.tl-pending-unit-handles').show();
		$('.tl-incomplete-unit-handles').hide();
		$("#tl-recording-area").hide();
		if(videoRecordingPlayer){
			videoRecordingPlayer.record().reset();
		}
		$("#tl-recording-audio-area").hide();
		if(audioRecordingPlayer){
			audioRecordingPlayer.record().reset();
		}
		$("#tl-recording-screen-area").hide();
		if(screenRecordingPlayer){
			screenRecordingPlayer.record().reset();
		}
		$('#documents-images-zip_namespace').hide();
		$('#assignment-reply-textbox-group').hide();
		$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
		$('.tl-complete-button-assignment').hide();
		$('.tl-send-assignment-recording').addClass('disabled').hide();
		$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
		$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
	});

    $(document).on('click', '.tl-assignment-check-answer', function(){
		var url = 'https://it1education.talentlms.com/unit/getassignmentreply/id:9140,mode:view';

		myportal.app.ajax(url, {
			type: 'GET',
			success: function(response){
				var data = myportal.app.parseResponse(response);
				var replyTypeFile = 'file';

				if(data.type == replyTypeFile && data.fileType != 'zip' && data.fileType != ''){
					$('#tl-assignment-check-answer-modal').addClass('preview-modal');
				}
				else{
					$('#tl-assignment-check-answer-modal').removeClass('preview-modal');
				}

				$('#tl-assignment-check-answer-modal .modal-body').html(data.reply);
				$('#tl-assignment-check-answer-modal .modal-header h3').html("uw antwoord");
				$('#tl-assignment-check-answer-modal').modal();
			}
		});
	});

    $(document).on('click', '.tl-assignment-checkreply', function(){
		var url = 'https://it1education.talentlms.com/unit/getassignmentreply/id:9140,mode:view';

		myportal.app.ajax(url, {
			type: 'GET',
			success: function(response){
				var data = myportal.app.parseResponse(response);

				$('#tl-assignment-check-answer-modal .modal-header h3').html("Reactie van docent ");
				$('#tl-assignment-check-answer-modal .modal-body').empty().append("<div style='margin-bottom: 7px;'><b>" + "Cijfer" + ":</b>&nbsp;" + data.grade + "</div>");
				$('#tl-assignment-check-answer-modal .modal-body').append("<div class='pull-left'><b>" + "Commentaren " + ":</b>&nbsp;</div><div class='pull-left' style='max-width:100%'>" + data.comments + "</div>");
				$('#tl-assignment-check-answer-modal').removeClass('preview-modal');
				$('#tl-assignment-check-answer-modal').modal();
			}
		});
	});

	$('#tl-assignment-check-answer-modal').bind('hidden', function(){	// empty modal on close so that videos/audio stop playing
		$('#tl-assignment-check-answer-modal .modal-body').html('');
	});

    $(document).on('click', '.tl-ilt-checkreply', function(){
		var url = 'https://it1education.talentlms.com/unit/getiltreply/id:9140';

		myportal.app.ajax(url, {
			type: 'GET',
			success: function(response){
				var data = myportal.app.parseResponse(response);

				$('#tl-ilt-check-answer-modal .modal-body').empty().append("<div style='margin-bottom: 7px;'><b>" + "Cijfer" + ":</b>&nbsp;" + data.grade + "</div>");
				$('#tl-ilt-check-answer-modal .modal-body').append("<div class='pull-left'><b>" + "Commentaren " + ":</b>&nbsp;</div><div class='pull-left'>" + data.comments + "</div>");
				$('#tl-ilt-check-answer-modal').modal();
			}
		});
	});

	$('.tl-failed-button-assignment').on('click', function(){
		var url = 'https://it1education.talentlms.com/unit/resetprogress/id:94297';
		myportal.app.ajax(url, {
			type: 'POST',
			data: {'myToken': myToken},
			success: function(){
				window.location = window.location.toString();
			}
		});
	});

	updateProgress = function(response){
		if(false && isLoggingOut){ // We bypass the parseResponse function in case of exception, since we do not want a pop-up when someone is logging out while in a SCORM file
			try{
				$.parseJSON(response);
			}
			catch (ex){
				console.log("Some error occurred");
				return;
			}
		}

		data = myportal.app.parseResponse(response);

		if(typeof(data) != 'undefined'){
			if(data.unit_status == 'completed'){	// means that the unit was completed
				if(data.progress_measure && $('#tl-navbar-progress-measure').length > 0){
					$('#tl-navbar-progress-measure').css('width', data.progress_measure + '%').text(data.progress_measure + '%');
					
					if (data.progress_measure == 100){
						$(".tl-courses-list").text('Ga naar de cursuslijst');
						$(".tl-courses-list").removeAttr('data-dismiss');
						$(".tl-courses-list").attr('href', 'https://it1education.talentlms.com/dashboard/index');
					}
					
					if(data.course_completed){
						$('#tl-navbar-progress-measure').text("Voltooid");
					}
				}
				
				if(data.unit_id){
					if($('#tl-navbar-unit-link-' + data.unit_id).length > 0){
						$('#tl-navbar-unit-link-' + data.unit_id).css('fontWeight', 'bold');
						$('#tl-navbar-unit-link-' + data.unit_id).children('i').show();
					}
														
					var redirect_url = 'https://it1education.talentlms.com/unit/view/id:9141';
					window.location = redirect_url;
					return true;
								}

								$('.tl-incomplete-unit-handles').fadeOut('fast', function(){
					$('.tl-completed-unit-handles').fadeIn('fast');
					$('#tl-scorm-iframe-closed-message').find('h3').text("Je hebt het onderdeel voltooid");
				});
								
				if($('#tl-navbar-next-unit').length > 0){
					$('#tl-navbar-next-unit').attr('title', "Volgende");
					$('#tl-navbar-next-unit').children().removeClass('tl-disabled');
					$('#tl-navbar-next-unit').popover('destroy');
					$('#tl-navbar-next-unit').removeClass('tl-content-show-popover');
					
					if($('#tl-navbar-next-unit').attr('data-href') && $('#tl-navbar-next-unit').attr('data-href').length){
						$('#tl-navbar-next-unit').attr('href', $('#tl-navbar-next-unit').attr('data-href'));
					}
				}

				
				var gamificationPointsForUnitCompletion = $.cookie("gamification_points_for_unit_completion");
				var gamificationPointsForCourseCompletion = $.cookie("gamification_points_for_course_completion");
				var gamificationPointsForCertification = $.cookie("gamification_points_for_certification");
				var gamificationPointsNotification = '';
				var gamificationAddedPoints = 0;

				if(gamificationPointsForUnitCompletion){
					var parts = gamificationPointsForUnitCompletion.split('###');
					gamificationPointsNotification = parts[0];
					gamificationAddedPoints = parseInt(parts[1]);
					setTlmsCookie("gamification_points_for_unit_completion", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
				}

				if(gamificationPointsForCourseCompletion){
					var parts = gamificationPointsForCourseCompletion.split('###');
					gamificationPointsNotification = (gamificationPointsNotification) ? gamificationPointsNotification + '<br/>' + parts[0] : parts[0];
					gamificationAddedPoints = gamificationAddedPoints + parseInt(parts[1]);
					setTlmsCookie("gamification_points_for_course_completion", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
				}

				if(gamificationPointsForCertification){
					var parts = gamificationPointsForCertification.split('###');
					gamificationPointsNotification = (gamificationPointsNotification) ? gamificationPointsNotification + '<br/>' + parts[0] : parts[0];
					gamificationAddedPoints = gamificationAddedPoints + parseInt(parts[1]);
					setTlmsCookie("gamification_points_for_certification", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
				}

				if(gamificationPointsNotification){
					if($("#tl-header-gamification-entrance").data('entrancemode') == 'points'){
						$("#tl-header-gamification-entrance").empty();
						var pointsCountUp = new countUp("tl-header-gamification-entrance", parseInt($("#tl-header-gamification-entrance").data('entrancevalue')), parseInt($("#tl-header-gamification-entrance").data('entrancevalue')) + parseInt(gamificationAddedPoints), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "punten"});
						pointsCountUp.start();
					}
					
					$("#tl-gamification-points-message").html(decodeURIComponent(gamificationPointsNotification)).fadeIn(1000);
					setTimeout(function(){$("#tl-gamification-points-message").fadeOut('slow');}, 3000);
				}

				var gamificationAssignmentBadge = $.cookie("gamification_assignment_badge");
				var gamificationLearningBadge = $.cookie("gamification_learning_badge");
				var gamificationCertificationBadge = $.cookie("gamification_certification_badge");
				var gamificationAddedBadges = 0;
				$(".tl-badge-image").attr('src', '');
				$(".tl-badge-message").empty();

				if(gamificationAssignmentBadge){
					var parts = gamificationAssignmentBadge.split('###');
					$(".tl-badge-image").attr('src', parts[1]);
					$(".tl-badge-message").html(decodeURIComponent(parts[0]));
					setTlmsCookie("gamification_assignment_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
					gamificationAddedBadges++;
				}

				if(gamificationLearningBadge){
					var parts = gamificationLearningBadge.split('###');
					setTlmsCookie("gamification_learning_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
					gamificationAddedBadges++;

					if($(".tl-badge-image").attr('src') != '' && $(".tl-badge-message").html() != ''){
						$("#tl-gamification-badges-message").append('<hr/><div id="learning-badge-message" class="tl-badge-image-message-wrapper"></div>');
						$("#learning-badge-message").append('<img class="tl-badge-image pull-left image60x60" src="' + parts[1] + '"/>').append('<div class="tl-badge-message text-center tl-bold-item">' + decodeURIComponent(parts[0]) + '</div>');
					}
					else{
						$(".tl-badge-image").attr('src', parts[1]);
						$(".tl-badge-message").html(decodeURIComponent(parts[0]));
					}
				}

				if(gamificationCertificationBadge){
					var parts = gamificationCertificationBadge.split('###');
					setTlmsCookie("gamification_certification_badge", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
					gamificationAddedBadges++;

					if($(".tl-badge-image").attr('src') != '' && $(".tl-badge-message").html() != ''){
						$("#tl-gamification-badges-message").append('<hr/><div id="certification-badge-message" class="tl-badge-image-message-wrapper"></div>');
						$("#certification-badge-message").append('<img class="tl-badge-image pull-left image60x60" src="' + parts[1] + '"/>').append('<div class="tl-badge-message text-center tl-bold-item">' + decodeURIComponent(parts[0]) + '</div>');
					}
					else{
						$(".tl-badge-image").attr('src', parts[1]);
						$(".tl-badge-message").html(decodeURIComponent(parts[0]));
					}
				}

				if(gamificationAssignmentBadge || gamificationLearningBadge || gamificationCertificationBadge){
					if(gamificationPointsNotification){
						$("#tl-gamification-badges-message").css('bottom', $("#tl-gamification-points-message").height() + 20 + 16 + 5);
					}

					if($("#tl-header-gamification-entrance").data('entrancemode') == 'badges'){
						$("#tl-header-gamification-entrance").empty();
						var badgesCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt($("#tl-header-gamification-entrance").data('entrancevalue')) + parseInt(gamificationAddedBadges), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "badges"});
						badgesCountUp.start();
					}

					$("#tl-gamification-badges-message").fadeIn(1000).css('display', 'table');
					setTimeout(function(){$("#tl-gamification-badges-message").fadeOut('slow');}, 5000);
				}

				var gamificationCompletedCourses = $.cookie("gamification_completed_courses");

				if(gamificationCompletedCourses && ($("#tl-header-gamification-entrance").data('entrancemode') == 'courses' || $("#tl-header-gamification-entrance").data('entrancemode') == 'certifications')){
					$("#tl-header-gamification-entrance").empty();
					var completedCoursesCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt(gamificationCompletedCourses), 0, 1.5, {useEasing: true, useGrouping: true, separator: '', suffix: ' ' + "voltooide cursussen"});
					completedCoursesCountUp.start();
					setTlmsCookie("gamification_completed_courses", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
				}

				var gamificationUserLevel = $.cookie("gamification_user_level");

				if(gamificationUserLevel && $("#tl-header-gamification-entrance").data('entrancemode') == 'levels'){
					var gamificationUserLevelParts = gamificationUserLevel.split('###');
					$("#tl-header-gamification-entrance").empty();
					var userLevelCountUp = new countUp("tl-header-gamification-entrance", 0, parseInt(gamificationUserLevelParts[0]), 0, 1.5, {useEasing: true, useGrouping: true, separator: ''});
					userLevelCountUp.start(function(){$('#tl-header-gamification-entrance').html(decodeURIComponent(gamificationUserLevelParts[1]));});
					setTlmsCookie("gamification_user_level", null, {expires: -1, path: '/', domain: myEffectiveDomain, secure: false});
				}
			}
			else if(data.unit_status == 'pending'){	// means that the unit is in a pending status now (assignment units)
				
				$('.tl-incomplete-unit-handles').fadeOut('fast', function(){
					$('.tl-pending-unit-handles').fadeIn('fast');
				});
				$('#tl-recording-area').fadeOut('fast');
				$('#tl-recording-audio-area').fadeOut('fast');
				$('#tl-recording-screen-area').fadeOut('fast');
			}
			else{
				
				$('#tl-submit-question').removeClass('disabled').addClass('btn-danger').text("Fout antwoord, probeer opnieuw");
				setTimeout(function(){
					$('#tl-submit-question').fadeOut('slow', function(){
						$('#tl-submit-question').removeClass('btn-danger').text("Antwoord indienen");
						$('#tl-submit-question').fadeIn(400);
					});}, 2000);

							}
		}	
	}
	
	submitResults = function(url){
		myportal.app.ajax(url, {
			type: 'post',
			data: $('.tl-unit-question-form').serialize() + "&myToken=" + myToken,
			success: function(response){
				updateProgress(response);
			},
			error: function(jqXHR_obj){
				var response = $.parseJSON(jqXHR_obj.responseText);
				$('#tl-submit-question').removeClass('disabled');
				myportal.app.notify({type: "error", message: decodeURIComponent(response.message)});
			}
		});
	}

	window.completeUnit = function(el){
		var url = $(el).attr('data-toggle');
		if(typeof(url) != 'undefined'){
			myportal.app.ajax(url, {
				type: 'GET',
				success: function(response){
										$('#last-unit-progress').text('');
					
					updateProgress(response);
				},
				error: function(jqXHR_obj){
					var response = $.parseJSON(jqXHR_obj.responseText);
					myportal.app.notify({type: "error", message: decodeURIComponent(response.message)});
				}
			});
		}
	}

	completeAssignmentUnit = function(el, fileId){
		var assignmentId = '9140';
		var replyType = '';
		var url = '';

		if(el == null && fileId != null){
			url = 'https://it1education.talentlms.com/unit/complete';
		}
		else{
			url = $(el).attr('data-toggle');
		}

		if($('#assignment-reply-textbox-group').hasClass('hidden-textbox')){
			replyType = 'file';
		}
		else{
			replyType = 'textbox';
		}

		$('#assignment-reply-type').text(replyType);

		if(typeof(url) != 'undefined'){
			myportal.app.ajax(url, {
				type: 'POST',
				data: {'id': assignmentId, 'textbox-reply': $('#assignment-reply-textbox').val(), 'reply-type': replyType, 'reply-file': fileId, 'assignment-modify-answer-time': $('#assignment-modify-answer-time').text()},
				success: function(response){
										$('#last-unit-progress').text('');
					
					updateProgress(response);
					$('.tl-complete-button-assignment').text("Verzend jouw reactie ").removeClass('disabled');
					if($('#assignment-reply-textbox-group').hasClass('visible-textbox')){
						$('#assignment-reply-textbox-group').removeClass('visible-textbox').addClass('hidden-textbox');
						$('#assignment-reply-textbox-group').fadeOut('slow');
						$('.tl-complete-button-assignment').hide();
					}
				}
			});
		}
	}

		$('#tl-submit-question').on('click', function(){
		if($(this).hasClass('disabled') || $(this).hasClass('btn-success') || $(this).hasClass('btn-danger')){
			return false;
		}

		$(this).addClass('disabled');
		var url = 'https://it1education.talentlms.com/unit/submitquestion/id:9140,questionId:,questionType:';
		submitResults(url);
	});
	
    $(document).on('click', '.tl-complete-button, .tl-complete-button-assignment', function(){
		if($(this).hasClass('disabled')){
			return;
		}

				$(this).text("Voltooien...").addClass('disabled');
		
		if(!$(this).hasClass('tl-complete-button-assignment')){
			completeUnit($(this));
		}
		else{
			$('#assignment-reply-textbox').val($('.tl-assignment-reply-editor').code());
			completeAssignmentUnit($(this), null);
		}
	});

	$(document).on('click', '.tl-send-assignment-recording', function(){
		if($(this).hasClass('disabled') || !recordedData){
			return;
		}

		// Videos shorter than 5 seconds seem to have issues in EncodeMagic. Check the duration (written in the recorder's toolbar) and if too small do nothing
		var parts = $('#tl-recording-video span.vjs-duration-display').text().split(':');
		if(parts.length == 2){
			if(parts[0]*60+parts[1]*1 < 6){ // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-record-error').text('Video moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording').addClass('disabled');
				return;
			}
		}
		else if(parts.length == 3){
			if(parts[0]*3600+parts[1]*60+parts[2]*1 < 6){ // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-record-error').text('Video moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording').addClass('disabled');
				return;
			}
		}

		var uploadUrl = 'https://it1education.talentlms.com/unit/uploadassignmentreply/id:9140';
		var _formData = new FormData();
		_formData.append('files', recordedData, recordedData.name);

		myportal.app.ajax(uploadUrl,{
			type: "POST",
			data: _formData,
			cache: false,
			dataType: 'json',
			processData: false,
			contentType: false,
			success: function(resp){
				if(resp.success){
					$('.tl-send-assignment-recording').addClass('disabled').hide();
					completeAssignmentUnit(null, resp.data.assignmentReplyFile);
				}
			}
		});
	});

	$(document).on('click', '.tl-send-assignment-recording-audio', function(){
		if($(this).hasClass('disabled') || !recordedAudioData){
			return;
		}

		// Videos/audio shorter than 5 seconds seem to have issues in EncodeMagic. Check the duration (written in the recorder's toolbar) and if too small do nothing
		var parts = $('#tl-recording-audio span.vjs-duration-display').text().split(':');

		if(parts.length == 2){
			if(parts[0]*60+parts[1]*1 < 6){ // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-record-audio-error').text('Audio moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording-audio').addClass('disabled');
				return;
			}
		}
		else if(parts.length == 3){
			if(parts[0]*3600+parts[1]*60+parts[2]*1 < 6){ // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-record-audio-error').text('Audio moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording-audio').addClass('disabled');
				return;
			}
		}

		var uploadUrl = 'https://it1education.talentlms.com/unit/uploadassignmentreply/id:9140';
		var _formData = new FormData();
		_formData.append('files', recordedAudioData, recordedAudioData.name);

		myportal.app.ajax(uploadUrl,{
			type: "POST",
			data: _formData,
			cache: false,
			dataType: 'json',
			processData: false,
			contentType: false,
			success: function(resp){
				if(resp.success){
					$('.tl-send-assignment-recording-audio').addClass('disabled').hide();
					completeAssignmentUnit(null, resp.data.assignmentReplyFile);
				}
			}
		});
	});

	$(document).on('click', '.tl-send-assignment-recording-screen', function() {
		if ($(this).hasClass('disabled') || !recordedScreenData) {
			return;
		}

		// Videos shorter than 5 seconds seem to have issues in EncodeMagic. Check the duration (written in the recorder's toolbar) and if too small do nothing
		var parts = $('#tl-screen-recording span.vjs-duration-display').text().split(':');
		if (parts.length === 2) {
			if (parts[0]*60+parts[1]*1 < 6) { // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-screen-record-error').text('Video moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording-screen').addClass('disabled');
				return;
			}
		} else if (parts.length === 3) {
			if (parts[0]*3600+parts[1]*60+parts[2]*1 < 6) { // multiply seconds with 1 to be sure we have an integer and not a string
				$('#tl-screen-record-error').text('Video moet langer zijn dan 5 seconden').removeClass('hide');
				$('.tl-send-assignment-recording-screen').addClass('disabled');
				return;
			}
		}

		var uploadUrl = 'https://it1education.talentlms.com/unit/uploadassignmentreply/id:9140';
		var _formData = new FormData();
		_formData.append('files', recordedScreenData, recordedScreenData.name);

		myportal.app.ajax(uploadUrl, {
			type: "POST",
			data: _formData,
			cache: false,
			dataType: 'json',
			processData: false,
			contentType: false,
			success: function(resp) {
				if (resp.success) {
					$('.tl-send-assignment-recording-screen').addClass('disabled').hide();
					completeAssignmentUnit(null, resp.data.assignmentReplyFile);
				}
			}
		});
	});

		
	$('.tl-scorm-frame').ready(function(){
		$('#tl-scorm-progress-bar').hide();

		$('.tl-complete-button-scorm')
            .show()
            .removeClass('disabled')
            .text("Onvolledig");

		
		$(document).on('click', '.tl-complete-button-scorm-link', function(){
			$('.tl-complete-button-scorm').popover('destroy');
			$('.tl-scorm-frame').attr('src', '').remove(); // .remove() without emptying the iframe content, sometimes crashes ie
			$('.tl-complete-button-scorm').hide().text("Onvolledig. Klik om opnieuw te proberen.").on('click', function() {window.location.reload()}).fadeIn('slow');
			$('#tl-scorm-iframe-closed-message').fadeIn('slow');		
		});
	});
	
	$('#tl-reset-progress').on('click', function(){
		if(tl_timer_id){
			tl_stopTimer(start_time);
		}

		var lastUnitProgress = $('#last-unit-progress').text();

		if(lastUnitProgress != ''){
			var url = 'https://it1education.talentlms.com/unit/resetprogress/id:##unit_progress_id##'.replace('##unit_progress_id##', lastUnitProgress);
		}
		else{
			var url = 'https://it1education.talentlms.com/unit/resetprogress/id:94297';
		}

		myportal.app.ajax(url, {
			type: 'POST',
			data: {'myToken': myToken},
			success: function(){
								$('.tl-completed-unit-handles').fadeOut('fast', function(){
					$('.tl-incomplete-unit-handles').fadeIn('fast');

					
					if(window.clearQuestion){
						window.clearQuestion();		// Clear the question's results
					}

					isCompleted = false;

					if(parseInt(start_time) > 0){
						tl_initTimerValue(start_time);
						tl_setUpCounter(start_time);
					}

					$('#tl-submit-question').removeClass('btn-danger').removeClass('btn-success').text("Antwoord indienen").show();
					$('.tl-question-preview-feedback').css('display', 'none');

									});
							}
		});
	});

	window.start_time = '0';

	window.tl_setUpCounter = function (secondsFromNow){
		if(tl_timer_id){
			tl_stopTimer(secondsFromNow);
		}

		setUnitEndDate(parseInt(secondsFromNow));
		tl_timer_id = window.setInterval(tl_startCounter, 300);
	};

	window.tl_startCounter = function (){
		var currentDate = new Date();
		var restOfSeconds = Math.ceil((unitEndDate.getTime() - currentDate.getTime()) / 1000);

		if(restOfSeconds > 0){
			$('#tl-timer-seconds').text(restOfSeconds);
			var interval = formatTimeInterval(restOfSeconds);

			if(!interval){
				$('.tl-timer-button').text("Klaar!");
			}
			else{
				$('#tl-timer').text(interval);
			}
		}
		else {
			tl_stopTimer(start_time);
			tl_completeUnit();
		}
	}

    window.formatTimeInterval = function(interval){
    	var seconds = interval % 60;
    	var minutes = ((interval - seconds) / 60) % 60;
    	var hours = ((interval - seconds - (minutes * 60)) / 3600) % 24;
    	var days = (interval - hours * 3600 + minutes * 60 + seconds) / (24 * 3600);
    	var str = new Array();

    	if(days >= 1){
    		str.push("###days###d".replace('###days###', parseInt(days)));
    	}

    	if(hours){
    		str.push("###hours###u".replace('###hours###', hours));
    	}

    	if(minutes){
    		str.push("###minutes###m".replace('###minutes###', minutes));
    	}

    	if(seconds){
    		str.push("###seconds###s".replace('###seconds###', seconds));
    	}

    	return str.join(' ');
    }

	/**
	 * Sets the date that the unit will end.
	 * @param {*} secondsFromNow
	 */
	window.setUnitEndDate = function(secondsFromNow){
		if(secondsFromNow === false) {
			secondsFromNow = start_time;
		}

		unitEndDate = new Date();
		unitEndDate.setSeconds(unitEndDate.getSeconds() + parseInt(secondsFromNow));
	};

	
		if (typeof window.syncVideoUnitTimer === 'undefined' || !window.syncVideoUnitTimer){
		if(!tl_timer_id){
			tl_setUpCounter(start_time);
		}
	}
	else {
		tl_timer_id = null;
	}
	});

$(window).on('load', function(){
	$.ajax('https://it1education.talentlms.com/unit/enter/id:94297', {async: false});
});

	$(window).on('beforeunload', function(){
        const exitUrl = 'https://it1education.talentlms.com/unit/exit/id:94297';
        const isFirefox = true;

        if('fetch' in window && !isFirefox) { // In Firefox asynchronus fetch requests inside beforeunload callback are denied
            fetch(exitUrl, {keepalive: true});
        } else {
            $.ajax(exitUrl, {async: false});
        }
	});


function tl_toggleShare(el){
	var url = $(el).data('url');
	myportal.app.ajax(url, {
		success: function(data){
			var response = JSON.parse(data);
			$('#tl-view-share-certificate-body').html(response.data.html);
			$('#tl-view-share-certificate').show();
			$('.tl-share-certificate').hide();
		}
	});
}


function tl_initTimerValue(time){
	time = parseInt(time);
	buttonText = "Beëindigd in <span id = 'tl-timer'>%s</span>";

	if (time < 1){
		time = 1;
	}

	start_time = time;
	$('#tl-timer-seconds').text(time);
	interval = formatTimeInterval(time);

	if(interval){
		$('.tl-timer-button').html(buttonText.replace('%s', interval));
	}
}

function tl_startTimer(){
	if(tl_timer_id){
		tl_stopTimer($('#tl-timer-seconds').text());
	}

	tl_setUpCounter($('#tl-timer-seconds').text());
}

function tl_stopTimer(time){
	window.clearInterval(tl_timer_id);
	tl_timer_id = false;
	time = parseInt(time);
	cur_time = parseInt($('#tl-timer-seconds').text());
	if (time < 1){
		time = 1;
	}
	if(cur_time < time ) {
		return;
	}
	$('#tl-timer-seconds').text(time - 1);
	interval = formatTimeInterval(time - 1);

	if(!interval){
		$('.tl-timer-button').text("Klaar!");
	}
	else{
		$('#tl-timer').text(interval);
	}
}
function tl_completeUnit(){
	completeUnit($('.tl-timer-button'));
}


var heartbeatInterval = 10790*1000; setInterval(function(){
	myportal.app.ajax("https://it1education.talentlms.com/index/heartbeat", {
		'type': 'GET'
	});
}, heartbeatInterval);

var pingInterval = 120000; // every 2 minutes
setInterval(function(){
	// We don't want this call to toggle the loading spinner, so we don't use the myportal.app.ajax() function
	$.ajax("https://it1education.talentlms.com/index/ping/id:208", {
		type: 'POST',
		dataType: 'json',
		success: function(data){
			if(!data.success){
				window.location = "https://it1education.talentlms.com/index";
			}
		}
	});
}, pingInterval);

</script>			</div>	</div>
	
		<div id="tl-gamification-points-message" class="hide hidden-phone text-center tl-bold-item" style="z-index: 10000;"></div>
	<div id="tl-gamification-badges-message" class="hide hidden-phone" style="z-index: 10000;">
		<div class="tl-badge-image-message-wrapper">
			<img class="tl-badge-image pull-left image60x60">
			<div class="tl-badge-message text-center tl-bold-item"></div>
		</div>
	</div>
</div>

	<div class="modal fade hide" id="tl-export-to-csv-modal" style="outline: none;" tabindex="-1">
		<div class="modal-header"><h3>Sla op als CSV-bestand</h3></div>
		<div class="modal-body">
			<div class="text-center">Exportbestand wordt gemaakt. Even geduld..</div>
			<div class="progress progress-striped progress-success active" style="margin: 15px 0px;">
				<div class="bar" style="width: 100%;"></div>
			</div>
		</div>
		<div class="modal-footer">
			<div class="pull-left span4 text-left hide" style="margin: 0px 5px 0px 0px;">
				<span>Even geduld terwijl de opdracht geannuleerd wordt</span>
			</div>
			<div class="pull-right">
				<a href="javascript:void(0)" class="btn" id="tl-cancel-export">Annuleer</a>
			</div>
		</div>
	</div>
	<div id="tl-export-to-csv-token" class="hide"></div>

<div class="modal fade hide" id="tl-confirm" style="outline: none;" tabindex="-1">
	<div class="modal-header">
		<a href="javascript:void(0)" class="close" data-dismiss="modal">×</a>
		<h3 class="tl-modal-header">Opmerking</h3>
	</div>
	<div class="modal-body"><p id="tl-modal-body"></p></div>
	<div class="modal-footer">
		<a id="tl-confirm-submit" class="btn btn-danger"><i class="icon-trash"></i>&nbsp;Verwijderen</a>
		<a id="tl-confirm-continue" class="btn btn-danger hide"><i class="icon-trash"></i>&nbsp;Verwijder, vraag niet opnieuw </a>
		<a class="btn" data-dismiss="modal">Annuleer</a>
	</div>
</div>
<div class="modal fade hide" id="tl-confirm-double" style="outline: none;" tabindex="-1">
	<div class="modal-header">
		<a href="javascript:void(0)" class="close" data-dismiss="modal">×</a>
		<h3 class="tl-modal-header-double">Opmerking</h3>
	</div>
	<div class="modal-body"><p id="tl-modal-body-double"></p></div>
	<div class="modal-footer">
		<a id="tl-confirm-submit-double" class="btn btn-danger"><i class="icon-trash"></i>&nbsp;Verwijderen</a>
		<a id="tl-confirm-submit-double2" class="btn btn-danger"></a>
		<a class="btn" data-dismiss="modal">Annuleer</a>
	</div>
</div>
<div class="modal fade hide" id="tl_leavepage_confirm" style="outline: none;" tabindex="-1">
	<div class="modal-header">
		<a href="javascript:void(0)" class="close" data-dismiss="modal">×</a>
		<h3>Opmerking</h3>
	</div>
	<div class="modal-body"><p></p></div>
	<div class="modal-footer">
		<a id="tl-leavepage" class="btn btn-danger"><i class="icon-trash"></i>&nbsp;Maak wijzigingen ongedaan</a>
		<a class="btn" data-dismiss="modal">Annuleer</a>
	</div>
</div>


<div class="modal fade hide" id="tl-relogin-modal" style="outline: none;" tabindex="-1">
	<div class="modal-header text-center">
		<h3>Even voor de zekerheid, u bent nu uitgelogd</h3>
	</div>
	<div class="modal-body">
		<div class="text-center" style="padding: 10px 0px;">
			<img src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/lockout.svg">
			<div style="margin-top: 15px;">Voer uw wachtwoord in om verder te gaan waar u was gebleven</div>
			<form name="tl-relogin-form" method="post" action="https://it1education.talentlms.com/unit/view/id:9140" class="tl-form form-horizontal" id="tl-relogin-form" data-submiturl="https://it1education.talentlms.com/index/relogin" data-bitwarden-watching="1"><input type="hidden" name="_track_tl-relogin-form" value="1721823978" class="" id="362991118"><input type="hidden" name="_redirect_" value="" class="" id="_redirect_"><input type="hidden" name="_myToken" value="24b7fdd82bcd3a6e43c93c467352b53b" class="" id="_myToken"><input type="hidden" name="appear_as_supervisor_after_relogin" value="" class="" id="1424078702"><input type="hidden" name="relogin_role" value="learner" class="" id="747135155"><input type="hidden" name="relogin_username" value="l.vanhoyweghen" class="" id="1174329629">			<div class="control-group ">
				<div class="controls">
					<input type="password" name="relogin_password" value="" class="span4" id="1635041628" placeholder="wachtwoord" autocomplete="off" tabindex="">					<span class="help-block"></span>
				</div>
			</div>
			<input type="submit" name="submit_relogin" value="Login" class="btn btn-primary" id="1184652025" data-loading-text="Inloggen..." tabindex="">			</form>			<div><a href="https://it1education.talentlms.com/index">Uitloggen</a></div>
		</div>
	</div>
</div>

<div class="modal fade hide" id="tl-gamification-widget-modal" style="outline: none;" tabindex="-1">
	<div class="modal-header">
		<a href="javascript:void(0)" class="close" data-dismiss="modal">×</a>
		<h3 class="font-weight-bold">Scorebord</h3>
	</div>
	<div class="modal-body">
		<ul class="nav nav-tabs">
			<li class="hide" id="points-row"><a href="#" data-toggle="tab">Punten</a></li>
			<li class="hide" id="levels-row"><a href="#" data-toggle="tab">Niveaus</a></li>
			<li class="hide" id="badges-row"><a href="#" data-toggle="tab">Badges</a></li>
			<li class="hide" id="courses-row"><a href="#" data-toggle="tab">Cursussen</a></li>
			<li class="hide" id="certifications-row"><a href="#" data-toggle="tab">Certificaten</a></li>
			<li class="hide" id="rewards-row"><a href="#" data-toggle="tab">Beloningen</a></li>
		</ul>
		<div class="widget-loading hide">
			<img class="widget-loading-img" src="it1education%20_%20LAB%20-%20DHCP%20Link...%20(ServAdv%20Labs%20SV%20Lab1)%20_%20VM%20aanmaken_files/loading-small.gif">
		</div>
		<div id="widget-screen1" class="hide"></div>
		<div id="widget-screen2" class="hide"></div>
		<div id="widget-screen3" class="hide"></div>
	</div>
	<div class="modal-footer">
		<div class="tl-gamification-points-footer tl-gamification-footer-section text-center hide">
			<a id="tl-howto-collect-points" class="btn btn-primary" href="javascript:void(0)">
				Hoe verzamel je punten			</a>
		</div>
		<div class="tl-gamification-levels-footer tl-gamification-footer-section text-center hide">
			<a id="tl-howto-upgrade-level" class="btn btn-primary" href="javascript:void(0)">
				Hoe een niveau stijgen			</a>	
		</div>
		<div class="tl-gamification-badges-footer tl-gamification-footer-section text-center hide">
			<a id="tl-goto-badges-leaderboard" class="btn btn-primary" href="javascript:void(0)">
				Mijn badge verzameling			</a>
		</div>
		<div class="tl-gamification-rewards-footer tl-gamification-footer-section text-center hide">
			<a id="tl-goto-badges-leaderboard" class="btn btn-primary" href="javascript:void(0)">
				Mijn badge verzameling			</a>
		</div>
		<div class="tl-gamification-actions text-center hide">
			<a id="tl-widget-goback" class="btn" href="javascript:void(0)">
				<span>
					terug				</span>
			</a>
		</div>
	</div>
</div>

<script id="tl-achievements-template" type="text/x-custom-template">
    <div class="tl-achievements-wrapper">
		<div class="tl-achievements-icon-wrapper">
			<img class="tl-achievements-points-icon hide" src="https://d3j0t7vrtr92dk.cloudfront.net/images/ranking/icon_points.svg" />
			<img class="tl-achievements-levels-icon hide" src="https://d3j0t7vrtr92dk.cloudfront.net/images/ranking/icon_levels.svg" />
			<img class="tl-achievements-badges-icon hide" src="https://d3j0t7vrtr92dk.cloudfront.net/images/ranking/icon_badges.svg" />
			<img class="tl-achievements-certifications-icon hide" src="https://d3j0t7vrtr92dk.cloudfront.net/images/ranking/icon_certifications.svg" />
		</div>
		<div class="tl-achievements-indicator">
			<div class="tl-achievements-points hide">
				<div class="tl-gamification-total"></div>
			</div>
			<div class="tl-achievements-levels hide">
				<div class="tl-gamification-total"></div>
			</div>
			<div class="tl-achievements-badges hide">
				<div class="tl-gamification-total"></div>
			</div>
			<div class="tl-achievements-certifications hide">
				<div class="tl-gamification-total"></div>
			</div>
		</div>
	</div>
</script>

<script type="text/javascript">
 	var pointsResetEntities = false;
	var levelsResetEntities = false;
	var badgesResetEntities = false;

	var pointsDisabled = false;
	var levelsDisabled = false;
	var badgesDisabled = false;

	var listDelayTime = 350;

	var listLength = 6;

	var cacheTimeout = 600000;

	var pointsResponse = '';
	var pointsResponseTimestamp = 0;

	var levelsResponse = '';
	var levelsResponseTimestamp = 0;

	var badgesResponse = '';
	var badgesResponseTimestamp = 0;

	var coursesResponse = '';
	var coursesResponseTimestamp = 0;

	var certificationsResponse = '';
	var certificationsResponseTimestamp = 0;

	var rewardsResponse = '';
	var rewardsResponseTimestamp = 0;

	function clearWidgetScreen(id) {
		$("#" + id).empty();
	}

	function hideAllScreens() {
		$("#widget-screen1").addClass("hide");
		$("#widget-screen3").addClass("hide");
	}

	function showWidgetScreen(id) {
		$("#" + id).removeClass("hide");
	}

	var firstTabToTrigger = '';
	function setFirstTab(name) {
		if (firstTabToTrigger.length === 0) { 
			firstTabToTrigger = name;
		}
	}

	function showWidgetLoading() {
		$('.widget-loading').removeClass("hide");
	}

	function hideWidgetLoading() {
		$('.widget-loading').addClass("hide");
	}

	function removeActiveTab() {
		$("#tl-gamification-widget-modal .nav-tabs > li").each(function(){
			$(this).removeClass("active");
		})
	}

	var widgetCurrentTab = '';
	function setCurrentTab(id, activate) {
		widgetCurrentTab = id;

		if (activate) {
			$("#" + id).addClass("active");
		}
	}

	function hideGamificationFooterSection() {
		$(".tl-gamification-footer-section:not(.hide)").addClass("hide")
	}

	function showGamificationFooterSection(id) {
		hideGamificationFooterSection();

		if ($(".tl-gamification-"+id+"-footer").length > 0) {
			$(".tl-gamification-"+id+"-footer").removeClass("hide");
		}
	}

	function showGamificationActions() {
		$(".tl-gamification-actions").removeClass("hide");
	}

	function hideGamificationActions() {
		$(".tl-gamification-actions").addClass("hide");
	}

	$(document).ready(function(){
		$('#tl-header-gamification-entrance, #tl-edit-user-gamification, #tl-user-infographics-gamification, #tl-microstats-gamification, #tl-compared-others-gamification').on('click', function(e){
						var url = 'https://it1education.talentlms.com/gamification/widgetindex';
			
			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);

					if(response.success){
						if(response.data.showPoints){
							$('#points-row').show();
							(response.data.pointsRanking != '') ? $('#points-row').data('goto', 'leaderboard') : $('#points-row').data('goto', 'conditions');
							setFirstTab("points-row");

							if(response.data.resetEntities){
								pointsResetEntities = true;
							}
						}

						if(response.data.showLevels){
							$('#levels-row').show();
							$('#levels-message').html(response.data.levelsMessage);
							(response.data.levelsRanking != '') ? $('#levels-row').data('goto', 'leaderboard') : $('#levels-row').data('goto', 'conditions');
							setFirstTab("levels-row");

							if(response.data.resetEntities && response.data.userLevel > 0){
								levelsResetEntities = true;
							}
						}

						if(response.data.showBadges){
							$('#badges-row').show();
							(parseInt(response.data.badgesValue) > 0) ? $('#badges-message').html(response.data.badgesMessage + '<a class="btn btn-mini btn-success" style="margin-left: 5px;"  >' + "Bekijk" + '</a>') : $('#badges-message').html(response.data.badgesMessage);
							(response.data.badgesRanking != '') ? $('#badges-row').data('goto', 'leaderboard') : $('#badges-row').data('goto', 'mybadges');
							setFirstTab("badges-row");

							if(parseInt(response.data.badgesValue) == 0 && response.data.userBadgesCount == ''){
								$('#badges-row').removeClass('tl-cursor-pointer').find('.icon-play:first').hide();
								$('#badges-row').find('.icon-award-1:first').addClass('tl-cursor-default');
							}

							if(response.data.resetEntities){
								badgesResetEntities = true;
							}
						}

						if(response.data.showCourses){
							$('#courses-row').show();
							$('#courses-message').html(response.data.coursesMessage);
							setFirstTab("courses-row");
						}

						if(response.data.showCertifications){
							$('#certifications-row').show();
							$('#certifications-message').html(response.data.certificationsMessage);
							setFirstTab("certifications-row");
						}

						if(response.data.showRewards){
							$('#rewards-row').show();
							$('#rewards-message').html(response.data.rewardsMessage);
							setFirstTab("rewards-row");
						}

						if (e.target.id !== "tl-microstats-gamification" && e.target.id !== "tl-user-infographics-gamification") {
							removeActiveTab();
							setCurrentTab(firstTabToTrigger, true);
							$('#' + firstTabToTrigger).trigger("click");
						}
					}
				}
			});

			$('#tl-gamification-widget-modal').modal('show');
		});

		$(document).on('hidden.bs.modal', '.modal', function () {
			clearWidgetScreen("widget-screen1");
			hideGamificationFooterSection();
			removeActiveTab();
		});

		$('#points-row').on('click', debounce(function(event){
			var $target = $(event.target);
			setCurrentTab("points-row");
			hideGamificationFooterSection();
			hideGamificationActions();
			hideAllScreens();
			clearWidgetScreen("widget-screen1");
			showWidgetLoading();

			if($(this).data('goto') == 'leaderboard' && !$target.hasClass('quickEditPoints')){
								var url = 'https://it1education.talentlms.com/gamification/getpointsleaderboard';
				
				if(pointsResponse && pointsResponseTimestamp > (Date.now() - cacheTimeout)){
					processPointsResponse(pointsResponse);
				}
				else{
					myportal.app.ajax(url, {
						success: function(response){
							pointsResponse = response;
							pointsResponseTimestamp = Date.now();
							processPointsResponse(response);
						}
					}, false);
				}
			}
		}, listDelayTime));

		function processPointsResponse(response){
			var response = $.parseJSON(response);
			if (widgetCurrentTab == "points-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append('<div class="tl-gamification-list"><table class="table table-hover" id="tl-points-leaderboard"><tbody class="tl-bold-item"></tbody></table></div><div class="tl-gamification-my-list"><table class="table table-hover tl-gamification-current-user"><tbody class="tl-bold-item"></tbody></table></div>');

					$.each(response.data.firstSubsetUsers, function(index, user){
						$('#tl-points-leaderboard tbody').append('<tr '+(user.currentUser ? "class='tl-current-user'" : "")+'><td class="tl-ranking-align">' + user.ranking + '</td><td class="tl-gamification-user"><img src="' + user.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + user.name + '</td><td class="tl-gamification-points">' + user.points + '</td></tr>');

						if (user.currentUser && pointsResetEntities) {
							$('.tl-current-user .tl-gamification-points').prepend('<i class="icon-pencil ml-1 quickEditPoints" data-element-target="#tl-points-leaderboard .tl-current-user .tl-gamification-points" title="' + "Bewerken" + '" data-points="'+ user.points +'" ></i>');
							addQuickEditEvent();
						}
					});

					if (response.data.currentUser) {
						$('.tl-gamification-current-user tbody').append('<tr><td class="tl-ranking-align">' + response.data.currentUser.ranking + '</td><td class="tl-gamification-user"><img src="' + response.data.currentUser.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.currentUser.name + '</td><td class="tl-gamification-points tl-gamification-points-tab">' + response.data.currentUser.points + '</td></tr>');

						if (pointsResetEntities) {
							$('.tl-gamification-current-user .tl-gamification-points').append('<i class="icon-pencil ml-1 quickEditPoints" data-element-target=".tl-gamification-current-user .tl-gamification-points" title="' + "Bewerken" + '" data-points="'+ response.data.currentUser.points +'" ></i>');
							addQuickEditEvent();
						}
					}

					if (response.data.firstSubsetUsers.length > listLength) { //after X users the list will auto scroll
						$(".tl-gamification-current-user").addClass("tl-gamification-list-scrolled");
					}

					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
					$('#tl-widget-goback').data('current', 'screen2').data('goto', 'screen1').show();
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
				} else {
					var achivementsTemplate = $('#tl-achievements-template').html();
					$('#widget-screen1').append(achivementsTemplate);
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
					$(".tl-achievements-points-icon").removeClass("hide");
					$('.tl-achievements-points').removeClass("hide");
					$('.tl-achievements-points .tl-gamification-total').text(response.userPoints);
					pointsDisabled = true;
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");

					if (pointsResetEntities) {
						$('.tl-achievements-points').append('<i class="icon-pencil ml-1 d-inline-block quickEditPoints" data-element-target=".tl-achievements-points" title="' + "Bewerken" + '" data-points="'+response.userPoints+'" ></i>');
						addQuickEditEvent();
					}
				}

				showGamificationFooterSection("points");
			}
		}

		$('#levels-row').on('click', debounce(function(event){
			var $target = $(event.target);
			setCurrentTab("levels-row");
			hideGamificationFooterSection();
			hideGamificationActions();
			hideAllScreens();
			clearWidgetScreen("widget-screen1");
			showWidgetLoading();

			if($(this).data('goto') == 'leaderboard' && !$target.hasClass('icon-undo')){
								var url = 'https://it1education.talentlms.com/gamification/getlevelsleaderboard';
				
				if (levelsResponse && levelsResponseTimestamp > (Date.now() - cacheTimeout)){
					processLevelsResponse(levelsResponse);
				}
				else{
					myportal.app.ajax(url, {
						success: function(response){
							levelsResponse = response;
							levelsResponseTimestamp = Date.now();
							processLevelsResponse(response);
						}
					}, false);
				}
			}
			else if($(this).data('goto') == 'conditions' && !$target.hasClass('icon-undo')){
				showLevelsConditions('screen1');
			}
			else if($target.hasClass('icon-undo')){
								var url = 'https://it1education.talentlms.com/gamification/resetuserlevel';
				
				myportal.app.ajax(url, {
					success: function(response){
						var response = $.parseJSON(response);

						if(response.success){
							$('#levels-message').html(response.data.newLevel);
							$('#levels-row .tl-gamification-ranking-text:first').text(response.data.newLevelRanking);
						}
					}
				});
			}
		}, listDelayTime));

		function processLevelsResponse(response){
			var response = $.parseJSON(response);
			if (widgetCurrentTab == "levels-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append('<div class="tl-gamification-list"><table class="table table-hover" id="tl-levels-leaderboard"><tbody class="tl-bold-item"></tbody></table></div><div class="tl-gamification-my-list"><table class="table table-hover tl-gamification-current-user"><tbody class="tl-bold-item"></tbody></table></div>');

					$.each(response.data.firstSubsetUsers, function(index, user){
						$('#tl-levels-leaderboard tbody').append('<tr '+(user.currentUser ? "class='tl-current-user'" : "")+'><td class="tl-ranking-align">' + user.ranking + '</td><td class="tl-gamification-user"><img src="' + user.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + user.name + '</td><td class="tl-gamification-points">' + user.level + '</td></tr>');

						if (user.currentUser && levelsResetEntities) {
							$('.tl-current-user .tl-gamification-points').append('<i class="icon-undo ml-1 d-inline-block tl-reset-levels" title="Reset"></i>');
						}
					});

					if (response.data.currentUser) {
						$('.tl-gamification-current-user tbody').append('<tr><td class="tl-ranking-align">' + response.data.currentUser.ranking + '</td><td class="tl-gamification-user"><img src="' + response.data.currentUser.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.currentUser.name + '</td><td class="tl-gamification-points tl-gamification-levels">' + response.data.currentUser.level + '</td></tr>');

						if (levelsResetEntities) {
							$('.tl-gamification-current-user .tl-gamification-points').append('<i class="icon-undo ml-1 d-inline-block tl-reset-levels" title="Reset"></i>');
						}
					}

					if (response.data.firstSubsetUsers.length > listLength) { //after X users the list will auto scroll
						$(".tl-gamification-current-user").addClass("tl-gamification-list-scrolled");
					}

					$('#tl-widget-goback').data('current', 'screen2').data('goto', 'screen1').show();
					showGamificationFooterSection("levels");
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
				} else {
					var achivementsTemplate = $('#tl-achievements-template').html();
					$('#widget-screen1').append(achivementsTemplate);
					showGamificationFooterSection("levels");
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
					$(".tl-achievements-levels-icon").removeClass("hide");
					$('.tl-achievements-levels').removeClass("hide");
					$('.tl-achievements-levels .tl-gamification-total').text(response.userLevel);
					levelsDisabled = true;
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");

					if (levelsResetEntities) {
						$('.tl-achievements-levels').append('<i class="icon-undo ml-1 d-inline-block tl-reset-levels" title="Reset"></i>');
					}
				}

				showGamificationFooterSection("levels");
			}
		}

		$('#badges-row').on('click', debounce(function(event){
			setCurrentTab("badges-row");
			hideGamificationFooterSection();
			hideGamificationActions();
			hideAllScreens();
			clearWidgetScreen("widget-screen1");
			showWidgetLoading();
			var $target = $(event.target);

			if($(this).data('goto') == 'leaderboard' && !$target.hasClass('btn') && !$target.hasClass('icon-undo')){
								var url = 'https://it1education.talentlms.com/gamification/getbadgesleaderboard';
				
				if (badgesResponse && badgesResponseTimestamp > (Date.now() - cacheTimeout)){
					processBadgesResponse(badgesResponse);
				}
				else{
					myportal.app.ajax(url, {
						success: function(response){
							badgesResponse = response;
							badgesResponseTimestamp = Date.now();
							processBadgesResponse(response);
						}
					}, false);
				}
			}
			else if(($(this).data('goto') == 'mybadges' || $target.hasClass('btn')) && !$target.hasClass('icon-undo')){
								getUserBadges('https://it1education.talentlms.com/gamification/getuserbadges', 'screen1');
							}
		}, listDelayTime));

		function processBadgesResponse(response){
			var response = $.parseJSON(response);
			showWidgetLoading();
			if (widgetCurrentTab == "badges-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append('<div class="tl-gamification-list tl-list-no-footer '+ (!response.data.currentUser ? "tl-leaderboard-rounded-corners" : "")+'"><table class="table table-hover" id="tl-badges-leaderboard"><tbody class="tl-bold-item"></tbody></table></div><div class="tl-gamification-my-list"><table class="table table-hover tl-gamification-current-user tl-gamification-badges-user"><tbody class="tl-bold-item"></tbody></table></div>');

					$.each(response.data.firstSubsetUsers, function(index, user){
						var trClass = (user.sumbadges > 0) ? 'class="tl-cursor-pointer '+(user.currentUser ? "tl-current-user" : "")+'"' : '';
						var trLastColumn = (user.sumbadges > 0) ? '<i class="icon-play tl-icon15"></i>' : '&nbsp';
						var testSelector = ''.replace('##show-badges-user##', 'show-badges-user-' + user.id);
						$('#tl-badges-leaderboard tbody').append('<tr ' + trClass + ' data-user="' + user.id + '" ' + testSelector + '><td class="tl-ranking-align">' + user.ranking + '</td><td class="tl-gamification-user"><img src="' + user.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + user.name + '</td><td class="tl-gamification-points">' + user.sumbadges + '</td><td>' + trLastColumn + '</td></tr>');

						if (user.currentUser && badgesResetEntities) {
							$('#tl-badges-leaderboard .tl-current-user .tl-gamification-points').append('<i class="icon-undo ml-1 d-inline-block tl-reset-badges" title="Reset"></i>');
						}
					});

					if (response.data.currentUser) {
						var trClassCurrentUser = (response.data.currentUser.sumbadges > 0) ? 'class="tl-cursor-pointer"' : '';
						var trLastColumnUser = (response.data.currentUser.sumbadges > 0) ? '<td><i class="icon-play tl-icon15"></i></td>' : '';
						$('.tl-gamification-current-user tbody').append('<tr ' + trClassCurrentUser + ' data-user="' + response.data.currentUser.id + '"><td class="tl-ranking-align">' + response.data.currentUser.ranking + '</td><td class="tl-gamification-user"><img src="' + response.data.currentUser.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.currentUser.name + '</td><td class="tl-gamification-points '+ ((response.data.currentUser.sumbadges == 0) ? "tl-gamification-no-badges" : "") +'">' + response.data.currentUser.sumbadges + '</td>' + trLastColumnUser + '</tr>');
					}

					if (response.data.firstSubsetUsers.length > listLength) { //after X users the list will auto scroll
						$(".tl-gamification-current-user").addClass("tl-gamification-list-scrolled");
					}

					if (response.data.currentUser && response.data.currentUser.sumbadges > 0 && badgesResetEntities) {
						$('.tl-gamification-current-user .tl-gamification-points').append('<i class="icon-undo ml-1 d-inline-block tl-reset-badges" title="Reset"></i>');
					}

					$('#tl-widget-goback').data('current', 'screen2').data('goto', 'screen1').show();
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
				} else {
					var achivementsTemplate = $('#tl-achievements-template').html();
					$('#widget-screen1').append(achivementsTemplate);
					showGamificationFooterSection("badges");
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
					$(".tl-achievements-badges-icon").removeClass("hide");
					$('.tl-achievements-badges').removeClass("hide");
					$('.tl-achievements-badges .tl-gamification-total').text(response.userBadgesCount);
					badgesDisabled = true;
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");

					if (badgesResetEntities) {
						$('.tl-achievements-badges').append('<i class="icon-undo ml-1 d-inline-block tl-reset-badges" title="Reset"></i>');
					}
				}
			}
		}

		$('#courses-row').on('click', debounce(function(event){
			var $target = $(event.target);
			setCurrentTab("courses-row");
			hideGamificationActions();
			hideAllScreens();

			if(!$target.hasClass('icon-undo')){
								var url = 'https://it1education.talentlms.com/gamification/getcoursesleaderboard';
								clearWidgetScreen("widget-screen1");
				showWidgetLoading();


				if (coursesResponse && coursesResponseTimestamp > (Date.now() - cacheTimeout)){
					processCoursesResponse(coursesResponse);
				}
				else{
					myportal.app.ajax(url, {
						success: function(response){
							coursesResponse = response;
							coursesResponseTimestamp = Date.now();
							processCoursesResponse(response);
						}
					}, false);
				}
			}
		}, listDelayTime));

		function processCoursesResponse(response){
			var response = $.parseJSON(response);

			if ( widgetCurrentTab == "courses-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append('<div class="tl-gamification-list tl-list-no-footer '+ (!response.data.currentUser ? "tl-leaderboard-rounded-corners" : "")+'"><table class="table table-hover" id="tl-courses-leaderboard"><tbody class="tl-bold-item"></tbody></table></div><div class="tl-gamification-my-list"><table class="table table-hover tl-gamification-current-user"><tbody class="tl-bold-item"></tbody></table></div>');

					$.each(response.data.firstSubsetUsers, function(index, user){
						$('#tl-courses-leaderboard tbody').append('<tr '+(user.currentUser ? "class='tl-current-user'" : "")+'><td class="tl-ranking-align">' + user.ranking + '</td><td class="tl-gamification-user"><img src="' + user.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + user.name + '</td><td class="tl-gamification-points">' + user.sumcourses + '</td></tr>');
					});

					if (response.data.currentUser) {
						$('.tl-gamification-current-user tbody').append('<tr><td class="tl-ranking-align">' + response.data.currentUser.ranking + '</td><td class="tl-gamification-user"><img src="' + response.data.currentUser.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.currentUser.name + '</td><td class="tl-gamification-points">' + response.data.currentUser.sumcourses + '</td></tr>');
					}

					if (response.data.firstSubsetUsers.length > listLength) { //after X users the list will auto scroll
						$(".tl-gamification-current-user").addClass("tl-gamification-list-scrolled");
					}

					hideGamificationFooterSection();
					hideGamificationActions();
					$('#tl-widget-goback').data('current', 'screen2').data('goto', 'screen1').show();
					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
				}
			}
		}

		$('#certifications-row').on('click', debounce(function(event){
			var $target = $(event.target);
			setCurrentTab("certifications-row");
			hideGamificationFooterSection();
			hideGamificationActions();
			hideAllScreens();
			clearWidgetScreen("widget-screen1");
			showWidgetLoading();

			if(!$target.hasClass('icon-undo')){
								var url = 'https://it1education.talentlms.com/gamification/getcertificationsleaderboard';
				
				if (certificationsResponse && certificationsResponseTimestamp > (Date.now() - cacheTimeout)){
					processCertificationsResponse(certificationsResponse);
				}
				else{
					myportal.app.ajax(url, {
						success: function(response){
							certificationsResponse = response;
							certificationsResponseTimestamp = Date.now();
							processCertificationsResponse(response);
						}
					}, false);
				}
			}
		}, listDelayTime));

		function processCertificationsResponse(response){
			var response = $.parseJSON(response);
			if (widgetCurrentTab == "certifications-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append('<div class="tl-gamification-list tl-list-no-footer '+ (!response.data.currentUser ? "tl-leaderboard-rounded-corners" : "")+'"><table class="table table-hover" id="tl-certifications-leaderboard"><tbody class="tl-bold-item"></tbody></table></div><div class="tl-gamification-my-list"><table class="table table-hover tl-gamification-current-user"><tbody class="tl-bold-item"></tbody></table></div>');

					$.each(response.data.firstSubsetUsers, function(index, user){
						$('#tl-certifications-leaderboard tbody').append('<tr '+(user.currentUser ? "class='tl-current-user'" : "")+'><td class="tl-ranking-align">' + user.ranking + '</td><td class="tl-gamification-user"><img src="' + user.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + user.name + '</td><td class="tl-gamification-points">' + user.sumcertifications + '</td></tr>');
					});

					if (response.data.currentUser) {
						$('.tl-gamification-current-user tbody').append('<tr><td class="tl-ranking-align">' + response.data.currentUser.ranking + '</td><td class="tl-gamification-user"><img src="' + response.data.currentUser.avatar + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.currentUser.name + '</td><td class="tl-gamification-points">' + response.data.currentUser.sumcertifications + '</td></tr>');
					}

					if (response.data.firstSubsetUsers.length > listLength) { //after X users the list will auto scroll
						$(".tl-gamification-current-user").addClass("tl-gamification-list-scrolled");
					}

					hideGamificationFooterSection();
					hideGamificationActions();
					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
					$('#tl-widget-goback').data('current', 'screen2').data('goto', 'screen1').show();
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
				}
			}
		}

		$('#rewards-row').on('click',  debounce(function(){
						var url = 'https://it1education.talentlms.com/gamification/getrewardsconditions';
						setCurrentTab("rewards-row");
			hideGamificationActions();
			hideGamificationFooterSection();
			hideAllScreens();
			clearWidgetScreen("widget-screen1");
			showWidgetLoading();


			if (rewardsResponse && rewardsResponseTimestamp > (Date.now() - cacheTimeout)){
				processRewardsResponse(rewardsResponse);
			}
			else{
				myportal.app.ajax(url, {
					success: function(response){
						rewardsResponse = response;
						rewardsResponseTimestamp = Date.now();
						processRewardsResponse(response);
					}
				}, false);
			}

		}, listDelayTime));

		function processRewardsResponse(response){
			var response = $.parseJSON(response);
			if (widgetCurrentTab == "rewards-row") {
				if(response.success){
					clearWidgetScreen("widget-screen1");
					$('#widget-screen1').append("<div class='tl-rewards-row'><div class='tl-rewards-icon'><img src='https://d3j0t7vrtr92dk.cloudfront.net/images/ranking/icon_certifications.svg'></div></div>")

					$('.tl-rewards-row').append('<ul id="tl-rewards-conditions"></ul>');

					$.each(response.data.conditions, function(index, message){
						$('#tl-rewards-conditions').append('<li>' + message + '</li>');
					});

					if(response.data.conditions.length > 1){
						$('.tl-rewards-row').append('<div id="biggest-discount-note"><i class="icon-info-circle tl-cursor-default tl-icon17"></i>&nbsp;<i>' + "De grootste korting is van kracht" + '</i></div>');
					}

					$('#tl-widget-goback').data('current', 'screen3').data('goto', 'screen1').show();
					$('#tl-gamification-widget-modal .modal-header h3').text(response.data.leaderboardEnabled ? "Scorebord" : "Mijn prestaties");
					hideWidgetLoading();
					showWidgetScreen("widget-screen1");
				}
			}
		}

		$('#tl-goto-badges-leaderboard').on('click', function(){
						getUserBadges('https://it1education.talentlms.com/gamification/getuserbadges', 'screen2');
					});

        $(document).on('click', '#tl-badges-leaderboard tbody tr, #tl-goto-badges-leaderboard, .tl-gamification-badges-user tbody tr', function(){
			if(!$(this).hasClass('tl-cursor-pointer')){
				return false;
			}

						getUserBadges('https://it1education.talentlms.com/gamification/getuserbadges/user-id:##user-id##'.replace('##user-id##', $(this).data('user')), 'screen2');
					});

		$('#tl-widget-goback').on('click', function(){
				if ($(this).data("mode") != "badges") {
					showGamificationFooterSection(widgetCurrentTab.replace("-row", ""));
				} else if (badgesDisabled && $(this).data("mode") == "badges") {
					showGamificationFooterSection(widgetCurrentTab.replace("-row", ""));
				}
				
				hideGamificationActions();
				hideAllScreens();
				showWidgetScreen("widget-screen1");

				if (badgesDisabled && $(this).data("mode") == "badges") {
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");
				} else if (pointsDisabled && $(this).data("mode") == "points") {
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");
				} else if (levelsDisabled && $(this).data("mode") == "levels") {
					$('#tl-gamification-widget-modal .modal-header h3').text("Mijn prestaties");
				} else {
					$('#tl-gamification-widget-modal .modal-header h3').text("Scorebord");
				}
				
		});

		$('#tl-gamification-widget-modal').on('hidden', function(){
			hideGamificationActions();
			hideGamificationFooterSection();
			hideAllScreens();
		});

		$('#tl-howto-collect-points').on('click', function(){
			showPointsConditions('screen2');
		});

		$('#tl-howto-upgrade-level').on('click', function(){
			showLevelsConditions('screen2');
		});

		$(document).on('click', '.tl-reset-levels', function(){
			resetUserLevel();
		});

		$(document).on('click', '.tl-reset-badges', function(e){
			e.stopPropagation();
			resetBadgesLevel();
		});

		function resetBadgesLevel() {
						var url = 'https://it1education.talentlms.com/gamification/resetuserbadges';
			
			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);

					if(response.success){
						$('.tl-achievements-badges .tl-gamification-total').text(response.data.newBadges);

						if (!badgesDisabled) {
							badgesResponse = '';
							$("#badges-row").trigger("click");
						}
					}
				}
			});
		}

		function resetUserLevel() {
						var url = 'https://it1education.talentlms.com/gamification/resetuserlevel';
			
			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);

					if(response.success){
						$('.tl-achievements-levels .tl-gamification-total').text(response.data.newLevel);

						if (!levelsDisabled) {
							levelsResponse = '';
							$("#levels-row").trigger("click");
						}
					}
				}
			});
		}

		var showPointsConditions = function(source){
						var url = 'https://it1education.talentlms.com/gamification/getpointsconditions';
						hideAllScreens();
			hideGamificationFooterSection();
			showWidgetLoading();

			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);

					if(response.success){
						clearWidgetScreen("widget-screen3");
						$('#widget-screen3').append('<ul id="tl-get-points-conditions"></ul>');

						$.each(response.conditions, function(condition, message){
							if(condition == 'testCompletion'){
								$('#tl-get-points-conditions').append('<li class="tl-bold-item">' + message + '&nbsp;<i class="icon-info-circle tl-info-icon" id="test-completion-points"></i></li>');
								$('#test-completion-points').tooltip({placement: 'right', trigger: 'hover', title: "Vermenigvuldigd met toetsscore"}).on('show', function(e){ e.stopPropagation(); }).on('hidden', function(e){ e.stopPropagation(); });
							}
							else if(condition == 'assignmentCompletion'){
								$('#tl-get-points-conditions').append('<li class="tl-bold-item">' + message + '&nbsp;<i class="icon-info-circle tl-info-icon" id="assignment-completion-points"></i></li>');
								$('#assignment-completion-points').tooltip({placement: 'right', trigger: 'hover', title: "Vermenigvuldigd met opdrachtcijfer"}).on('show', function(e){ e.stopPropagation(); }).on('hidden', function(e){ e.stopPropagation(); });
							}
							else if(condition == 'iltCompletion'){
								$('#tl-get-points-conditions').append('<li class="tl-bold-item">' + message + '&nbsp;<i class="icon-info-circle tl-info-icon" id="ilt-completion-points"></i></li>');
								$('#ilt-completion-points').tooltip({placement: 'right', trigger: 'hover', title: "Vermenigvuldigd met cijfer van klassikale cursus"}).on('show', function(e){ e.stopPropagation(); }).on('hidden', function(e){ e.stopPropagation(); });
							}
							else{
								$('#tl-get-points-conditions').append('<li class="tl-bold-item">' + message + '</li>');
							}
						});

						showGamificationActions();
						$('#tl-widget-goback').data('current', 'screen3').data('goto', 'screen2').data('mode', 'points').show();
						showWidgetScreen("widget-screen3");
						$('#tl-gamification-widget-modal .modal-header h3').text("Hoe verzamel je punten");
						hideWidgetLoading();
					}
				}
			}, false);
		}

		var showLevelsConditions = function(source){
						var url = 'https://it1education.talentlms.com/gamification/getlevelsconditions';
						hideAllScreens();
			hideGamificationFooterSection();
			showWidgetLoading();

			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);

					if(response.success){
						clearWidgetScreen("widget-screen3");
						$('#widget-screen3').append('<ul id="tl-upgrade-levels-conditions"></ul>');

						$.each(response.conditions, function(index, message){
							$('#tl-upgrade-levels-conditions').append('<li class="tl-bold-item">' + message + '</li>');
						});
							
						showGamificationActions();
						$('#tl-widget-goback').data('current', 'screen3').data('goto', 'screen2').data('mode', 'level').show();
						showWidgetScreen("widget-screen3");
						$('#tl-gamification-widget-modal .modal-header h3').text("Hoe een niveau stijgen");
						hideWidgetLoading();
					}
				}
			}, false);
		}

		var getUserBadges = function(url, source){
			hideAllScreens();
			clearWidgetScreen("widget-screen3");
			hideGamificationFooterSection();
			showWidgetLoading();

			myportal.app.ajax(url, {
				success: function(response){
					var response = $.parseJSON(response);
					
					if(response.success){
						
						$('#widget-screen3').append('<table class="table table-hover" id="tl-user-badges"><tbody class="tl-bold-item"></tbody></table>');
						$('#tl-user-badges tbody').append('<tr><td class="tl-ranking-align text-center">'+ response.data.ranking +'</td><td class="tl-gamification-user"><img src="' + response.data.avatarSrc + '" class="avatar-square tl-gamification-avatar image40x40"/>' + response.data.username + '</td><td class="tl-gamification-points">' + response.data.badgesCount + '</td></tr>');
						$('#widget-screen3').append('<div id="tl-userbadges-images"></div>');

						$.each(response.data.userBadges, function(index, badges){
							$('#tl-userbadges-images').append('<div class="tl-badges-section">'+badges.name+'</div>');

							$.each(badges.userBadges, function(index, badge){
								$('#tl-userbadges-images').append('<img src="' + badge.image + '" title="' + badge.name + '<br/>' + badge.criteria + '"/>');
							});
						});

						$('#tl-userbadges-images img').tooltip({placement: 'top', trigger: 'hover', html: true, container: '#tl-gamification-widget-modal'}).on('show', function(e){ e.stopPropagation(); }).on('hidden', function(e){ e.stopPropagation(); });

						$('#tl-widget-goback').data('current', 'screen3').data('goto', 'screen2').data('mode', 'badges').show();
						showWidgetScreen("widget-screen3");
						showGamificationActions();
						hideWidgetLoading();
					}
				}
			}, false);
		};
	});

	function quickEditPoints(event){
		if(event.which == 13 || event.which == 1){
			var newPoints = $('#quick-edit-points').val();
			var quickEditpoints = $(event.target).data("element-target");
			var elementShow = $(event.target).data('element-target');

			if(newPoints >= 0){
				
				var editUserPointsData = {"points":"##points##","myToken":"##token##"};
				editUserPointsData.points = newPoints;
				editUserPointsData.myToken = myToken;

				myportal.app.ajax('https://it1education.talentlms.com/gamification/edituserpoints', {
					type: 'POST',
					data: editUserPointsData,
					success: function(response){
						var response = $.parseJSON(response);
						if(response.success){
							$(quickEditpoints).html('<div class="tl-gamification-total">'+response.data.newPoints+'</div><i class="icon-pencil ml-1 quickEditPoints" data-element-target="'+elementShow+'" title="Bewerken" data-points="'+response.data.newPoints+'"></i>');
							$('#points-row .tl-gamification-ranking-text:first').text(response.data.newPointsRanking);
							$('#points-row').data('goto', $('#points-row').data('goto-old'));
							$('#points-row').removeData('goto-old');
							$('#levels-message').html(response.data.newLevel+'<i class="icon-undo" title="Reset"></i>');
							$('#levels-row .tl-gamification-ranking-text:first').text(response.data.newLevelRanking);
							addQuickEditEvent();

							if (!pointsDisabled) {
								pointsResponse = '';
								$("#points-row").trigger("click");
							}
						}
					}
				});
			}
			return false;
		}
		else if(event.keyCode == 27){
			hideEditPoints(event);
		}
	}

	function addQuickEditEvent() {
		$(".quickEditPoints").on("click", function() {
			$points = $(this).data("points");
			var elementShow = $(event.target).data('element-target');

			$(elementShow).html(
				'<input class="input-small" type="text" value="' + $points + '" onkeypress="return quickEditPoints(event);" onkeyup="return hideEditPointsChrome(event);" id="quick-edit-points" style="margin-bottom: 5px; margin-right: 3px; margin-top: 5px;" maxlength="9"/>\n\
				<a href="javascript:void(0)" id="icon-save-points" class="icon-ok none-decoration quick-edit-icon tl-icon17" data-element-target="'+elementShow+'" onclick="quickEditPoints(event)" data-points="'+$points+'" ></a>\n\
				<a href="javascript:void(0)" id="icon-remove-points" class="icon-remove none-decoration quick-edit-icon tl-icon17" onclick="hideEditPoints(event)" data-element-target="'+elementShow+'" data-points="'+$points+'" ></a>'
			);
			$('#quick-edit-points').focus();
			$('#points-row').data('goto-old', $('#points-row').data('goto'));
			$('#points-row').removeData('goto');
		}) 
	}

	function hideEditPointsChrome(event, target){
		if(event.keyCode == 27){
			hideEditPoints(event, target);
		}
	}

	function hideEditPoints(event, target){
		var $points = $('#icon-remove-points').data('points');
		var elementHide = $(event.target).data('element-target');

		$(elementHide).html('<div class="tl-gamification-total">'+$points+'</div><i class="icon-pencil ml-1 quickEditPoints" data-element-target="'+elementHide+'" title="Bewerken" data-points="'+$points+'"></i>');
		$('#points-row').data('goto', $('#points-row').data('goto-old'));
		$('#points-row').removeData('goto-old');
		addQuickEditEvent();
		event.stopPropagation();
	}
</script>

<script type="text/javascript">
	$('body').on('touchstart.dropdown', '.dropdown-menu', function(e){ e.stopPropagation(); });	// Fix for https://github.com/twitter/bootstrap/issues/2975#issuecomment-6659992, should be removed if fixed in twitter bs 2.1.2 (or whenever)
	myportal.app.translations['search'] = "Zoeken";
	myportal.app.translations['Completed'] = "Voltooid";
	myportal.app.translations['cancel'] = "Annuleer";
	myportal.app.translations['ok'] = "Oké";
	myportal.app.translations['save'] = "Sla op";
	myportal.app.translations['save-as-new'] = "Opslaan als nieuw ";
	myportal.app.translations['more'] = "meer";
	myportal.app.translations['less'] = "minder";
	myportal.app.translations['remove'] = "Verwijder";
	myportal.app.translations['reset'] = "Reset";
	myportal.app.translations['refresh'] = "Vernieuwen ";
	myportal.app.translations['notice'] = "Opmerking";
	myportal.app.translations['reset-remove-certification'] = "Rest & verwijder certificaat";
	myportal.app.translations['activate'] = "activeren";
	myportal.app.translations['deactivate'] = "deactiveren";
	myportal.app.translations['search-courses'] = "Zoek cursussen ";
	myportal.app.translations['add-image'] = "Voeg afbeelding toe";
	myportal.app.translations['change-image'] = "Wijzig afbeelding";
	myportal.app.translations['accepted-files'] = "Geaccepteerde bestanden ";
	myportal.app.translations['max-file-size'] = "Maximum bestandsgrootte ";
	myportal.app.translations['switch-editor'] = "Schakel tussen HTML en bronscherm ";
	myportal.app.translations['grid-more-results'] = "Toon meer resultaten per pagina ";
	myportal.app.translations['grid-less-results'] = "Toon minder resultaten per pagina ";
	myportal.app.translations['image-course-files'] = "Gebruik een afbeelding uit de cursusbestanden ";
	myportal.app.translations['use-image-url'] = "Gebruik een afbeelding URL (http://...)";
	myportal.app.translations['width'] = "Breedte";
	myportal.app.translations['padding'] = "Opvulling";
	myportal.app.translations['align-default'] = "Uitlijnen (standaard)";
	myportal.app.translations['align-left'] = "Plaats links ";
	myportal.app.translations['align-right'] = "Plaats rechts ";
	myportal.app.translations['make-changes'] = "Bewaar wijzigingen ";
	myportal.app.translations['grid-start-end-total'] = "_START_ tot _END_ van _TOTAL_";
	myportal.app.translations['matrix-of-total'] = "van _TOTAL_";
	myportal.app.translations['matrix-more-less-results'] = "Toon meer/minder resultaten per pagina";
	myportal.app.translations['matrix-search-input-threshold'] = "Gebruik 3+ karakters";
	myportal.app.translations['search-users'] = "Zoek gebruikers";
	myportal.app.translations['export'] = "Exporteer";
	myportal.app.translations['save-as-csv'] = "Sla op als CSV-bestand";
	myportal.app.translations['active-file-upload'] = "Er is een actief bestandsupload overdracht bezig";
	myportal.app.translations['upload-leave-page'] = "Weet je zeker dat je deze pagina wilt verlaten? Bestand upload zal stoppen en alle geüploadde data zal verloren gaan. ";
	myportal.app.translations['unsaved-changes'] = "Er zijn niet opgeslagen wijzigingen ";
	myportal.app.translations['changes-leave-page'] = "Weet je zeker dat je deze pagina wilt verlaten? Je zult alle niet-opgeslagen wijzigingen verliezen. ";
	myportal.app.translations['discard-draft'] = "Weet je zeker dat je autosave wilt verwijderen? Deze actie kan niet ongedaan worden gemaakt.";
	myportal.app.translations['restore-draft'] = "Weet je zeker dat je autosave wilt herstellen? Deze actie kan niet ongedaan worden gemaakt.";
	myportal.app.translations['add'] = "Toevoegen";
	myportal.app.translations['added'] = "Toegevoegd";
	myportal.app.translations['processing'] = "Verwerken...";
	myportal.app.translations['validate'] = "Bevestig";
	myportal.app.translations['click-to-start'] = "Start";
	myportal.app.translations['reset-password'] = "Reset wachtwoord";
	myportal.app.translations['operation-completed-successfully'] = "Actie succesvol afgerond";
	myportal.app.translations['points'] = "punten";
	myportal.app.translations['badges'] = "badges";
	myportal.app.translations['help-videos-unavailable'] = "Videos op dit moment niet beschikbaar";
	myportal.app.translations['next'] = "Volgende";
	myportal.app.translations['previous'] = "Vorige";
	myportal.app.translations['your-rating'] = "Je beoordeling";
	myportal.app.translations['reset-your-rating'] = "Rating resetten";
	myportal.app.translations['creating-export'] = "Exportbestand wordt gemaakt. Even geduld..";
	myportal.app.translations['no-results-found'] = "Geen resultaten gevonden. Probeer opnieuw.";
	myportal.app.translations['login'] = "Login";
	myportal.app.translations['crop'] = "Bijsnijden";
	myportal.app.translations['apply'] = "Toepassen";
	myportal.app.translations['preview-certification-error'] = "Er is een fout opgetreden bij het genereren van het voorbeeld, probeer het later opnieuw";
	myportal.app.translations['preview'] = "Voorbeeld ";
	myportal.app.translations['wait-preview-generation'] = "Even geduld terwijl het voorbeeld geladen wordt";
	myportal.app.translations['youtube'] = 'YouTube';
	myportal.app.translations['uploaded-video'] = 'Opgeladen video';
	myportal.app.translations['days'] = 'dagen';
	myportal.app.translations['pick-an-expiration-date'] = 'Kies een vervaldatum';
	myportal.app.translations['duration'] = 'Duur';
	myportal.app.translations['start-date'] = 'Startdatum';
	myportal.app.translations['expiration-date'] = 'Vervaldatum';
	myportal.app.translations['time-limit'] = 'Tijdslimiet';
	myportal.app.translations['start-date-and-time-limit'] = 'Startdatum en Tijdslimiet';
	myportal.app.translations['dtable-error'] = 'Actie uitvoeren mislukt (operatie time-out)';
	myportal.app.translations['generic-error'] = 'Oeps, er is iets misgegaan! Probeer om de pagina te vernieuwen ';

	var isMobile = false;
	var isRtl = false;
	var general_css = 'https://it1education.talentlms.com/index/css/fmt:1721818052,tn:53,tv:69,ct:1';
	var editorMaxUploadSize = '10485760';
	var editorFormattedMaxUploadSize = '10 MB';
	var editorAcceptedFileTypes = 'gif|jpg|jpeg|png';
	var editorFormattedAcceptedFileTypes = 'gif, jpg, jpeg, png';
	var imageAcceptedFileTypes = 'gif|jpg|jpeg|png';
	var imageMaxUploadSize = '3145728';
	
	var courseImageCanvasSizeWidth = '120';
	var courseImageCanvasSizeHeight = '80';
	
	var datepickerFormat = 'dd/mm/yyyy';
	var showSelect2 = true;
	var currentUserId = "208";
	var currentUserName = "Lennert Van Hoyweghen";
	var currentUserEmail = "lennertvhoy@gmail.com";
	var currentUserCreatedOn = "1700214194";
		var currentUserIntercomHash = '1fca77e0681fa80a45e993ebff1de2fc5d0bf8e6d7b39ae5b8ef1baabf261f8b';
	var myToken = "24b7fdd82bcd3a6e43c93c467352b53b";
	var myEffectiveDomain = 'it1education.talentlms.com';
	var myAdminDomain = '';
	var gridExportChunkSize = 5000;
	var gridExportProgressThreshold = 100;
	var isDummy = false;
	var sessionMaxLifeTime = 10800;
	var checkSessionExpirationUrl = 'https://it1education.talentlms.com/index/checksessionexpiration';
	var logourRedirectUrl = '';
	var reloginRedirectUrl = 'https://it1education.talentlms.com/unit/view/id:9140';
	var enableRelogin = true;
	var currency = '&euro;';
	</script>

<script type="text/javascript">
	$(document).ready(function () {
		if($('.tl-title-link').length){
			if(parseInt($('.tl-title').css('height')) < 50) {
				$('.tl-title-link').addClass('tl-title-link-default');
			}
			$('.tl-title-link').show();
		}
	});
</script>

	<script type="text/javascript">$(document).ready(function(){
if ($("#tl-dynamic-tree").length){
$("#tl-dynamic-tree").dynatree("getRoot")
.visit(function(node){ node.expand(false);});}});

$(document).ready(function () {
      $('input[type=text],textarea').bind('copy paste', function (e) {
         e.preventDefault();
      });
   });

var heading = 'Website IT1';
var text = 'Ga naar de website van it1';
var link = 'https://www.it1.be';
var iconClass = 'icon-info-circle';
var append = '<div class="tl-icons-block" onclick="window.open(\''+link+'\')">';
append += '<span class="tl-icon-stack"><i class="icon-circle tl-icon-stack-background">';
append +='</i><i class="tl-icon-stack-content '+iconClass+'"></i></span>';
append += '<div class="tl-icon-label"><div class="tl-ellipsis tl-bold-link">';
append +='<a title="'+heading+'">'+heading+'</a></div><div>'+text+'</div></div>';
append += '</div>';
var $sidebar = $('.tl-body .tl-learner-dashboard-box .tl-content-sidebar');
$sidebar.find('.tl-icons-block').last().after(append);</script><script type="text/javascript">
		window.getTestIdAttr = function () {
		return window.testIDAttr || "";
	};
	window.printTestId = function ( testID ) {
		if ( window.testEnvActive && ( typeof testID !== 'undefined' ) ) {
			return window.getTestIdAttr() + '=' + testID;
		} else {
			return '';
		}
	};
	jQuery.fn.printTestId = function ( testID ) {
	    var el = $(this[0]);
		if ( window.testEnvActive && ( typeof testID !== 'undefined' ) ) {
			el.attr(window.getTestIdAttr(), testID);
		}
	    return this;
	};
</script>




</body></html>