## Wat is DNS forwarding?

"DNS forwarding" is het proces waarbij DNS-queries worden afgehandeld door een andere (aangewezen) server, in plaats van te worden afgehandeld door de oorspronkelijke server waarmee de client contact heeft opgenomen. Standaard zouden deze worden doorgestuurd naar de root-servers als er geen forwarding is ingesteld.

  

De DNS-forwarder moet worden gezien als de aangewezen server waarnaar externe queries worden doorgestuurd door andere DNS-servers binnen het netwerk alvorens die eventueel naar de root-servers gaan. Meestal zijn DNS-servers geconfigureerd om ![](https://cdn.talentlms.com/it1education/1634891404_forwarding.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6XC9cL2Nkbi50YWxlbnRsbXMuY29tXC9pdDFlZHVjYXRpb25cLzE2MzQ4OTE0MDRfZm9yd2FyZGluZy5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3MTE3NTY4MDB9fX1dfQ__&Signature=BzS1CeBnSY10ARjsw6qPZ51LbPtHrCQDg1H46NxHkJ9g95UgIVzfLo-pRwAjN4f2P%2FmzDTVAHSIm%2FTNKVPSYlGauinTq%2FKi6YE%2F%2FhpkCMI1XSn4NBDX66VkaVPwZvTrywWd17aWpFMeZVfHLkZzR-Islbl7hP3IKlESYINjZGoFw46pgaAuqynK48B7HO-W6fxJfj33t9ZCGJmVwBdAf9WQ1JfEMbuEtzsn0sSPwv6V5fWLO0jGaIUqhwhVdNLJ08J9MAXd6HWUDFzCAsUkyuo5aZe05DqvS3ZqChbjJxHeB9At2pi4jiIImhBxMsjk-WBLDvWqrcUKW8J6iAWrwLA__&Key-Pair-Id=APKAJDCWVQTW4P3KI3XA)verzoeken die ze niet kunnen verwerken door te sturen naar de DNS-server(s) van de ISP (= Internet Service Provider), maar dit hoeft niet zo te zijn. We kunnen ook één (of meerdere in het geval van grote domeinen) specifieke DNS-servers binnen het domeinnetwerk meegeven die deze verzoeken dan zullen verwerken.

  

Als er geen DNS-server is aangewezen als de forwarder waarnaar externe DNS-verzoeken worden doorgestuurd, dan zullen alle DNS-servers binnen het netwerk dergelijke verzoeken afhandelen, wat betekent dat ze externe resolvers zullen opvragen. Dit is ongewenst. Wanneer we wel een DNS-server als forwarder aanwijzen, maken we die server verantwoordelijk voor het afhandelen van extern verkeer, waardoor de blootstelling van de DNS-server aan internet, en dus ook een potentieel beveiligings- en privacyrisico, wordt beperkt. Deze forwarder zal een grote cache met externe DNS-informatie opbouwen omdat alle externe DNS-queries in het netwerk hierdoor worden opgelost. In een korte tijd kan een forwarder een groot deel van de externe DNS-queries oplossen met behulp van deze gegevens in de cache en daardoor het netwerkverkeer en de responstijd voor DNS-clients verminderen. Als gevolg hiervan wordt het gebruik van de root-servers sterk verminderd.

## Conditional forwarding

"Conditional forwarding" is het proces waarbij alleen zoekopdrachten voor specifieke domeinnamen doorgestuurd worden. In plaats van alle zoekopdrachten, die niet lokaal kunnen worden opgelost, door te sturen naar een DNS-forwarder, is een conditional forwarder geconfigureerd om een ​​zoekopdracht door te sturen naar specifieke DNS-server(s) op basis van de domeinnaam in de zoekopdracht. Doorsturen op ![](https://cdn.talentlms.com/it1education/1634891438_conditional_forwarding.png?Policy=eyJTdGF0ZW1lbnQiOlt7IlJlc291cmNlIjoiaHR0cHM6XC9cL2Nkbi50YWxlbnRsbXMuY29tXC9pdDFlZHVjYXRpb25cLzE2MzQ4OTE0MzhfY29uZGl0aW9uYWxfZm9yd2FyZGluZy5wbmciLCJDb25kaXRpb24iOnsiRGF0ZUxlc3NUaGFuIjp7IkFXUzpFcG9jaFRpbWUiOjE3MTE3NTY4MDB9fX1dfQ__&Signature=imn88IKbKoAiJWPHfpRMnzyKwu3pVl7hejqO6Jg3XZ5OSmwXTLxQRrkE16eepOILzuyzMXGzg3nKAeQCBPN6BjhhYSigiwfIH4uIkIJ-lpIyS-T-WtWKCHyqV%2F8TSTyoldqGz3UpyCVbsPa6QcecpSRmGUTdoQlLpVo%2FiPC%2Fv%2FMsYDaD7zPA%2FXrkOgjzu5JyUViLL0uot%2FH-mDWL3yM6bJkdVMureLZ98Isdc4GYCDVJi%2F39JxVXFjDEfyXbijeqvltoFmd93fGvhivVS1gfvAUPHLLdyQ7GB%2FEJM6kfmYCB5IozvBARO%2FuE4VJMOVJws%2FXhIS46B1j21TVajFJJlw__&Key-Pair-Id=APKAJDCWVQTW4P3KI3XA)domeinnamen verbetert gewone, conventionele forwarding door een op naam gebaseerde voorwaarde toe te voegen aan het doorstuurproces. We gaan dus eigenlijk de DNS-server die verantwoordelijk is voor het andere domein aanspreken via de conditional forwarding om zo aan resolving te doen. Deze opzet is ideaal bij het gebruik van child domains en tree domains.

  

Conditional Forwarding leidt tot een veiliger, sneller, slimmer en betrouwbaarder internet. Door de DNS-servers in één interne namespace te configureren om queries door te sturen naar de gezaghebbende DNS-servers in een andere interne namespace, maakt conditional forwarding naamomzetting mogelijk tussen de twee domeinen zonder een iteratieve lookup uit te voeren op het internet, wat leidt tot betere prestaties en gebruik van DNS-servers en minder verkeer op een LAN-subnet.